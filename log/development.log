  [1m[36m (1.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.5ms)[0m  select sqlite_version(*)
  [1m[36m (1.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePosts (20150807185324)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150807185324"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to SorceryCore (20150807201843)
  [1m[35m (0.1ms)[0m  begin transaction
DEPRECATION WARNING: `#timestamps` was called without specifying an option for `null`. In Rails 5, this behavior will change to `null: false`. You should manually specify `null: true` to prevent the behavior of your existing migrations from changing. (called from block in change at /Users/bogdan/workspace/blog_shit/api/db/migrate/20150807201843_sorcery_core.rb:8)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar NOT NULL, "crypted_password" varchar, "salt" varchar, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150807201843"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Migrating to SorceryRememberMe (20150807201844)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ADD "remember_me_token" varchar[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "remember_me_token_expires_at" datetime
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_users_on_remember_me_token" ON "users" ("remember_me_token")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150807201844"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to SorceryResetPassword (20150807201845)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "users" ADD "reset_password_token" varchar
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "reset_password_token_expires_at" datetime[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "reset_password_email_sent_at" datetime
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_remember_me_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_remember_me_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150807201845"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_remember_me_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_remember_me_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateApiKeys (20150808085117)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150808085117"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_remember_me_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_remember_me_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateApiKeys (20150808085117)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  DROP TABLE "api_keys"
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20150808085117"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_remember_me_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_remember_me_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateApiKeys (20150808085117)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "expires_at" datetime, "token" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150808085117"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_remember_me_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_remember_me_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mApiKey Exists (0.5ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "dd1234e8a7ea76c52532a68f5533bae2"]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mApiKey Exists (0.6ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "f84a949e67f60207e8622bb08ea7ad43"]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mApiKey Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "89bb8dd3b94d9323f252ea4d79167ea0"]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mApiKey Exists (0.4ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "3bec7651057236643d45cd6668d07f5d"]]
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 09:10:33.066809"], ["updated_at", "2015-08-08 09:10:33.066809"]]
  [1m[35m (5.5ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mApiKey Exists (0.4ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "6ea53b472ab026bca72ac6e10f56e689"]]
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 09:11:36.004860"], ["updated_at", "2015-08-08 09:11:36.004860"], ["token", "6ea53b472ab026bca72ac6e10f56e689"], ["expires_at", "2015-08-22 09:11:36.011029"]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (2.5ms)[0m  [1mCREATE TABLE "api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "expires_at" datetime, "token" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (2.1ms)[0m  CREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (2.0ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar NOT NULL, "crypted_password" varchar, "salt" varchar, "created_at" datetime, "updated_at" datetime, "remember_me_token" varchar, "remember_me_token_expires_at" datetime, "reset_password_token" varchar, "reset_password_token_expires_at" datetime, "reset_password_email_sent_at" datetime) [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (1.9ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (1.7ms)[0m  [1mCREATE  INDEX "index_users_on_remember_me_token" ON "users" ("remember_me_token")[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_remember_me_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_remember_me_token' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (1.7ms)[0m  CREATE  INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")
  [1m[36m (2.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150808085117')
  [1m[36m (1.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150807185324')[0m
  [1m[35m (2.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150807201843')
  [1m[36m (1.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150807201844')[0m
  [1m[35m (1.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150807201845')
  [1m[36mApiKey Load (0.5ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE (expires_at < '2015-08-22 09:37:15.062326')  ORDER BY "api_keys"."id" ASC LIMIT 1[0m
  [1m[35mApiKey Load (0.5ms)[0m  SELECT  "api_keys".* FROM "api_keys" INNER JOIN "users" ON "users"."id" = "api_keys"."user_id" WHERE (expires_at < '2015-08-22 09:37:34.860024')  ORDER BY "api_keys"."id" ASC LIMIT 1
  [1m[36mApiKey Load (0.4ms)[0m  [1mSELECT "api_keys".* FROM "api_keys" WHERE (expires_at < '2015-08-22 09:39:48.142718') AND (expires_at < '2015-08-22 09:39:48.143209')[0m
  [1m[35mApiKey Load (0.2ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE (expires_at < '2015-08-22 09:39:49.151473') AND (expires_at < '2015-08-22 09:39:49.151792')  ORDER BY "api_keys"."id" ASC LIMIT 1
  [1m[36mApiKey Load (0.2ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE (expires_at < '2015-08-22 09:41:13.258531') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "SADASLDK"]]
  [1m[35mApiKey Exists (0.6ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at < '2015-08-22 10:11:09.149535') AND (expires_at < '2015-08-22 10:11:09.149866') AND "api_keys"."token" = ? LIMIT 1  [["token", "ASDSADAS"]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT "api_keys".* FROM "api_keys" WHERE (expires_at < '2015-08-22 10:11:20.397692')[0m
  [1m[35mApiKey Exists (0.2ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at < '2015-08-22 10:11:43.559660') AND (expires_at < '2015-08-22 10:11:43.560011') AND "api_keys"."token" = ? LIMIT 1  [["token", "6ea53b472ab026bca72ac6e10f56e689"]]


Started GET "/posts" for ::1 at 2015-08-08 13:20:48 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PostsController#index as */*
  [1m[35mApiKey Exists (0.5ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:20:48.056595') AND "api_keys"."token" = ? LIMIT 1  [["token", "afbadb4ff8485c0adcba486b4ca90cc4"]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:20:48.067875') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "afbadb4ff8485c0adcba486b4ca90cc4"]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 20ms (Views: 4.2ms | ActiveRecord: 0.7ms)


Started GET "/posts" for ::1 at 2015-08-08 13:21:35 +0300
Processing by PostsController#index as */*
  [1m[35mApiKey Exists (0.2ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:21:35.784693') AND "api_keys"."token" = ? LIMIT 1  [["token", "afbadb4ff8485c0adcba486b4ca90cc4"]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:21:35.787661') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "afbadb4ff8485c0adcba486b4ca90cc4"]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 0.4ms | ActiveRecord: 0.6ms)


Started GET "/posts" for ::1 at 2015-08-08 13:22:13 +0300
Processing by PostsController#index as */*
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)

NameError (undefined local variable or method `authorization' for #<PostsController:0x007fedc2620590>):
  app/controllers/application_controller.rb:7:in `restrict_access'


  Rendered .bundle/gems/actionpack-4.2.3/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.4ms)
  Rendered .bundle/gems/actionpack-4.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered .bundle/gems/actionpack-4.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered .bundle/gems/actionpack-4.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (50.6ms)


Started GET "/" for ::1 at 2015-08-08 13:22:28 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendered .bundle/gems/railties-4.2.3/lib/rails/templates/rails/welcome/index.html.erb (1.7ms)
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.0ms)


Started GET "/posts" for ::1 at 2015-08-08 13:22:32 +0300
Processing by PostsController#index as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)

NameError (undefined local variable or method `authorization' for #<PostsController:0x007fedc321b228>):
  app/controllers/application_controller.rb:7:in `restrict_access'


  Rendered .bundle/gems/actionpack-4.2.3/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.7ms)
  Rendered .bundle/gems/actionpack-4.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.9ms)
  Rendered .bundle/gems/actionpack-4.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered .bundle/gems/actionpack-4.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (46.3ms)


Started GET "/posts" for ::1 at 2015-08-08 13:23:01 +0300
Processing by PostsController#index as */*
  [1m[35mApiKey Exists (0.2ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:23:01.806577') AND "api_keys"."token" = ? LIMIT 1  [["token", "afbadb4ff8485c0adcba486b4ca90cc4"]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:23:01.811575') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "afbadb4ff8485c0adcba486b4ca90cc4"]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 11ms (Views: 0.4ms | ActiveRecord: 0.7ms)


Started GET "/posts" for ::1 at 2015-08-08 13:23:22 +0300
Processing by PostsController#index as */*
  [1m[35mApiKey Exists (0.5ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:23:22.984002') AND "api_keys"."token" = ? LIMIT 1  [["token", "afbadb4ff8485c0adcba486b4ca90cc4"]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 10ms (Views: 0.9ms | ActiveRecord: 0.9ms)
  [1m[36mApiKey Load (0.2ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys"  ORDER BY "api_keys"."id" DESC LIMIT 1[0m


Started GET "/posts" for ::1 at 2015-08-08 13:24:48 +0300
Processing by PostsController#index as */*
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:24:48.104807') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "6ea53b472ab026bca72ac6e10f56e689"]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:24:48.107751') AND "api_keys"."token" = ? LIMIT 1  [["token", "6ea53b472ab026bca72ac6e10f56e689"]]
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 9ms (Views: 1.0ms | ActiveRecord: 1.1ms)


Started GET "/posts" for ::1 at 2015-08-08 13:28:51 +0300
Processing by PostsController#index as */*
  [1m[35mApiKey Exists (0.2ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:28:51.612111') AND "api_keys"."token" = ? LIMIT 1  [["token", "6ea53b472ab026bca72ac6e10f56e689"]]
  [1m[36mPost Load (0.8ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 15ms (Views: 1.6ms | ActiveRecord: 1.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddNameToUser (20150808111821)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "users" ADD "name" varchar[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150808111821"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_remember_me_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_remember_me_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "bob"], ["email", "bob@eternalvoid.me"], ["created_at", "2015-08-08 11:30:04.980709"], ["updated_at", "2015-08-08 11:30:04.980709"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "bob"], ["email", "bob@eternalvoid.me"], ["created_at", "2015-08-08 11:31:06.468090"], ["updated_at", "2015-08-08 11:31:06.468090"]]
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mSQL (1.7ms)[0m  DELETE FROM "users"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "bob"], ["email", "bob@eternalvoid.me"], ["created_at", "2015-08-08 11:31:18.851109"], ["updated_at", "2015-08-08 11:31:18.851109"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35mSQL (1.2ms)[0m  DELETE FROM "users"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "salt") VALUES (?, ?, ?, ?, ?)  [["name", "bob"], ["email", "bob@eternalvoid.me"], ["created_at", "2015-08-08 11:31:48.107850"], ["updated_at", "2015-08-08 11:31:48.107850"], ["salt", "81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "users" SET "crypted_password" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["crypted_password", "e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc"], ["updated_at", "2015-08-08 11:32:05.341364"], ["id", 3]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" DESC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" DESC LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" DESC LIMIT 1[0m
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."user_id" = ? LIMIT 1  [["user_id", 3]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" DESC LIMIT 1[0m
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."user_id" = ? LIMIT 1  [["user_id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" DESC LIMIT 1[0m
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."user_id" = ? LIMIT 1  [["user_id", 3]]
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "399d91b3a43abc123aea3ae310bf36a1"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "token", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 3], ["token", "399d91b3a43abc123aea3ae310bf36a1"], ["expires_at", "2015-08-22 11:52:54.076016"], ["created_at", "2015-08-08 11:52:54.075872"], ["updated_at", "2015-08-08 11:52:54.075872"]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" DESC LIMIT 1[0m
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."user_id" = ? LIMIT 1  [["user_id", 3]]
