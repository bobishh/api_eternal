  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PostTest: test_validation_of_content_presence
---------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150807185324')
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 18:54:00', '2015-08-07 18:54:00', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 18:54:00', '2015-08-07 18:54:00', 298486374)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-07 18:54:00.962566"], ["updated_at", "2015-08-07 18:54:00.962566"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar NOT NULL, "crypted_password" varchar, "salt" varchar, "created_at" datetime, "updated_at" datetime, "remember_me_token" varchar, "remember_me_token_expires_at" datetime, "reset_password_token" varchar, "reset_password_token_expires_at" datetime, "reset_password_email_sent_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  CREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.9ms)[0m  CREATE  INDEX "index_users_on_remember_me_token" ON "users" ("remember_me_token")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_remember_me_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_remember_me_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.8ms)[0m  [1mCREATE  INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar NOT NULL) 
  [1m[36m (0.8ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150807201845')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150807185324')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150807201843')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150807201844')
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:19:00', '2015-08-07 20:19:00', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:19:00', '2015-08-07 20:19:00', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-08-07 20:19:00', '2015-08-07 20:19:00', 980190962)
SQLite3::ConstraintException: NOT NULL constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-08-07 20:19:00', '2015-08-07 20:19:00', 980190962)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:19:00', '2015-08-07 20:19:00', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:19:00', '2015-08-07 20:19:00', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-08-07 20:19:00', '2015-08-07 20:19:00', 980190962)[0m
SQLite3::ConstraintException: NOT NULL constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-08-07 20:19:00', '2015-08-07 20:19:00', 980190962)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:19:00', '2015-08-07 20:19:00', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:19:00', '2015-08-07 20:19:00', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-08-07 20:19:00', '2015-08-07 20:19:00', 980190962)
SQLite3::ConstraintException: NOT NULL constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-08-07 20:19:00', '2015-08-07 20:19:00', 980190962)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:19:00', '2015-08-07 20:19:00', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:19:00', '2015-08-07 20:19:00', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-08-07 20:19:00', '2015-08-07 20:19:00', 980190962)[0m
SQLite3::ConstraintException: NOT NULL constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-08-07 20:19:00', '2015-08-07 20:19:00', 980190962)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:31:07', '2015-08-07 20:31:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:31:07', '2015-08-07 20:31:07', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-07 20:31:07', '2015-08-07 20:31:07', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-07 20:31:07', '2015-08-07 20:31:07', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-07 20:31:07', '2015-08-07 20:31:07', 298486374)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:31:07', '2015-08-07 20:31:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:31:07', '2015-08-07 20:31:07', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-07 20:31:07', '2015-08-07 20:31:07', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-07 20:31:07', '2015-08-07 20:31:07', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-07 20:31:07', '2015-08-07 20:31:07', 298486374)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:31:07', '2015-08-07 20:31:07', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:31:07', '2015-08-07 20:31:07', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-07 20:31:07', '2015-08-07 20:31:07', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-07 20:31:07', '2015-08-07 20:31:07', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-07 20:31:07', '2015-08-07 20:31:07', 298486374)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:31:07', '2015-08-07 20:31:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:31:07', '2015-08-07 20:31:07', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-07 20:31:07', '2015-08-07 20:31:07', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-07 20:31:07', '2015-08-07 20:31:07', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-07 20:31:07', '2015-08-07 20:31:07', 298486374)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:31:07', '2015-08-07 20:31:07', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:31:07', '2015-08-07 20:31:07', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-07 20:31:07', '2015-08-07 20:31:07', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-07 20:31:07', '2015-08-07 20:31:07', 298486374)
SQLite3::ConstraintException: UNIQUE constraint failed: users.email: INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-07 20:31:07', '2015-08-07 20:31:07', 298486374)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:31:35', '2015-08-07 20:31:35', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:31:35', '2015-08-07 20:31:35', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-07 20:31:35', '2015-08-07 20:31:35', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-07 20:31:35', '2015-08-07 20:31:35', 298486374)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-07 20:31:35.866678"], ["updated_at", "2015-08-07 20:31:35.866678"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[36m (21.2ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:31:48', '2015-08-07 20:31:48', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:31:48', '2015-08-07 20:31:48', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-07 20:31:48', '2015-08-07 20:31:48', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-07 20:31:48', '2015-08-07 20:31:48', 298486374)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-07 20:31:48.136123"], ["updated_at", "2015-08-07 20:31:48.136123"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:33:17', '2015-08-07 20:33:17', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:33:17', '2015-08-07 20:33:17', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-07 20:33:17', '2015-08-07 20:33:17', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-07 20:33:17', '2015-08-07 20:33:17', 298486374)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-07 20:33:17.742998"], ["updated_at", "2015-08-07 20:33:17.742998"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", "2015-08-07 20:33:17.793287"], ["updated_at", "2015-08-07 20:33:17.793287"]]
SQLite3::ConstraintException: NOT NULL constraint failed: users.email: INSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:34:15', '2015-08-07 20:34:15', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:34:15', '2015-08-07 20:34:15', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-07 20:34:15', '2015-08-07 20:34:15', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-07 20:34:15', '2015-08-07 20:34:15', 298486374)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-07 20:34:15.308450"], ["updated_at", "2015-08-07 20:34:15.308450"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:35:07', '2015-08-07 20:35:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:35:07', '2015-08-07 20:35:07', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-07 20:35:07', '2015-08-07 20:35:07', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-07 20:35:07', '2015-08-07 20:35:07', 298486374)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-07 20:35:07.104355"], ["updated_at", "2015-08-07 20:35:07.104355"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 1.5ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-07 20:35:07.134844"], ["updated_at", "2015-08-07 20:35:07.134844"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 2ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:40:33', '2015-08-07 20:40:33', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-07 20:40:33', '2015-08-07 20:40:33', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-07 20:40:33', '2015-08-07 20:40:33', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-07 20:40:33', '2015-08-07 20:40:33', 298486374)
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-07 20:40:33.858053"], ["updated_at", "2015-08-07 20:40:33.858053"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 25ms (Views: 24.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)  [["email", "test@test.test"], ["created_at", "2015-08-07 20:40:33.912857"], ["updated_at", "2015-08-07 20:40:33.912857"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar NOT NULL, "crypted_password" varchar, "salt" varchar, "created_at" datetime, "updated_at" datetime, "remember_me_token" varchar, "remember_me_token_expires_at" datetime, "reset_password_token" varchar, "reset_password_token_expires_at" datetime, "reset_password_email_sent_at" datetime) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.8ms)[0m  [1mCREATE  INDEX "index_users_on_remember_me_token" ON "users" ("remember_me_token")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_remember_me_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_remember_me_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.8ms)[0m  CREATE  INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150808085117')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150807185324')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150807201843')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150807201844')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150807201845')
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "api_keys"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', '2015-08-08 08:52:08', '2015-08-08 08:52:08', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', '2015-08-08 08:52:08', '2015-08-08 08:52:08', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 08:52:08', '2015-08-08 08:52:08', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 08:52:08', '2015-08-08 08:52:08', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 08:52:08', '2015-08-08 08:52:08', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 08:52:08', '2015-08-08 08:52:08', 298486374)
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)  [["email", "test@test.test"], ["created_at", "2015-08-08 08:52:08.071886"], ["updated_at", "2015-08-08 08:52:08.071886"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 25ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 08:52:08.104859"], ["updated_at", "2015-08-08 08:52:08.104859"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (1.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', '2015-08-08 08:53:09', '2015-08-08 08:53:09', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', '2015-08-08 08:53:09', '2015-08-08 08:53:09', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 08:53:09', '2015-08-08 08:53:09', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 08:53:09', '2015-08-08 08:53:09', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 08:53:09', '2015-08-08 08:53:09', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 08:53:09', '2015-08-08 08:53:09', 298486374)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 08:53:09.211985"], ["updated_at", "2015-08-08 08:53:09.211985"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 5ms (Views: 1.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)  [["email", "test@test.test"], ["created_at", "2015-08-08 08:53:09.249863"], ["updated_at", "2015-08-08 08:53:09.249863"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', '2015-08-08 08:54:11', '2015-08-08 08:54:11', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', '2015-08-08 08:54:11', '2015-08-08 08:54:11', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 08:54:11', '2015-08-08 08:54:11', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 08:54:11', '2015-08-08 08:54:11', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 08:54:11', '2015-08-08 08:54:11', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 08:54:11', '2015-08-08 08:54:11', 298486374)[0m
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 4ms (ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 08:54:11.112680"], ["updated_at", "2015-08-08 08:54:11.112680"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 08:54:11.124807"], ["updated_at", "2015-08-08 08:54:11.124807"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', '2015-08-08 08:54:23', '2015-08-08 08:54:23', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', '2015-08-08 08:54:23', '2015-08-08 08:54:23', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 08:54:23', '2015-08-08 08:54:23', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 08:54:23', '2015-08-08 08:54:23', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 08:54:23', '2015-08-08 08:54:23', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 08:54:23', '2015-08-08 08:54:23', 298486374)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 8ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 08:54:23.669684"], ["updated_at", "2015-08-08 08:54:23.669684"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 4ms (Views: 1.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 08:54:23.691358"], ["updated_at", "2015-08-08 08:54:23.691358"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[35mPost Load (0.8ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.2ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', '2015-08-08 08:57:24', '2015-08-08 08:57:24', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', '2015-08-08 08:57:24', '2015-08-08 08:57:24', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 08:57:24', '2015-08-08 08:57:24', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 08:57:24', '2015-08-08 08:57:24', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 08:57:24', '2015-08-08 08:57:24', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 08:57:24', '2015-08-08 08:57:24', 298486374)[0m
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 08:57:24.247399"], ["updated_at", "2015-08-08 08:57:24.247399"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 6ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 4ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 6ms (ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 08:57:24.303946"], ["updated_at", "2015-08-08 08:57:24.303946"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 2ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', '2015-08-08 09:02:41', '2015-08-08 09:02:41', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', '2015-08-08 09:02:41', '2015-08-08 09:02:41', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:02:41', '2015-08-08 09:02:41', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:02:41', '2015-08-08 09:02:41', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 09:02:41', '2015-08-08 09:02:41', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 09:02:41', '2015-08-08 09:02:41', 298486374)[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 09:02:41.963474"], ["updated_at", "2015-08-08 09:02:41.963474"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 5ms (Views: 1.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 09:02:41.997317"], ["updated_at", "2015-08-08 09:02:41.997317"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 2ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', '2015-08-08 09:07:42', '2015-08-08 09:07:42', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', '2015-08-08 09:07:42', '2015-08-08 09:07:42', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:07:42', '2015-08-08 09:07:42', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:07:42', '2015-08-08 09:07:42', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 09:07:42', '2015-08-08 09:07:42', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 09:07:42', '2015-08-08 09:07:42', 298486374)[0m
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 8ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 5ms (ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)  [["email", "test@test.test"], ["created_at", "2015-08-08 09:07:42.965582"], ["updated_at", "2015-08-08 09:07:42.965582"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 17ms (Views: 4.9ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.4ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 09:07:43.051620"], ["updated_at", "2015-08-08 09:07:43.051620"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 12ms (Views: 2.0ms | ActiveRecord: 1.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 6ms (ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 4ms (ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.5ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', '2015-08-08 09:11:53', '2015-08-08 09:11:53', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', '2015-08-08 09:11:53', '2015-08-08 09:11:53', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:11:53', '2015-08-08 09:11:53', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:11:53', '2015-08-08 09:11:53', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 09:11:53', '2015-08-08 09:11:53', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 09:11:53', '2015-08-08 09:11:53', 298486374)[0m
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 14ms (ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 09:11:53.483073"], ["updated_at", "2015-08-08 09:11:53.483073"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 15ms (Views: 5.5ms | ActiveRecord: 1.5ms)
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.5ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.4ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[35mPost Load (0.4ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.3ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 09:11:53.603186"], ["updated_at", "2015-08-08 09:11:53.603186"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 13ms (Views: 2.8ms | ActiveRecord: 2.7ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.4ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 5ms (Views: 1.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 5ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mPost Load (0.5ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', '2015-08-08 09:12:36', '2015-08-08 09:12:36', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', '2015-08-08 09:12:36', '2015-08-08 09:12:36', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:12:36', '2015-08-08 09:12:36', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:12:36', '2015-08-08 09:12:36', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 09:12:36', '2015-08-08 09:12:36', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 09:12:36', '2015-08-08 09:12:36', 298486374)[0m
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.7ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.4ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[35mPost Load (0.4ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 14ms (ActiveRecord: 2.1ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.1ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mPost Load (0.5ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 09:12:36.635765"], ["updated_at", "2015-08-08 09:12:36.635765"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 25ms (Views: 5.3ms | ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.4ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mPost Load (0.7ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 5ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)  [["email", "test@test.test"], ["created_at", "2015-08-08 09:12:36.794304"], ["updated_at", "2015-08-08 09:12:36.794304"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 13ms (Views: 3.9ms | ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 4ms (ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 09:13:53', '2015-08-08 09:13:53', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 09:13:53', '2015-08-08 09:13:53', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:13:53', '2015-08-08 09:13:53', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:13:53', '2015-08-08 09:13:53', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 09:13:53', '2015-08-08 09:13:53', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 09:13:53', '2015-08-08 09:13:53', 298486374)[0m
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[35mPost Load (0.5ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 20ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.3ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 4ms (ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 09:13:53.611332"], ["updated_at", "2015-08-08 09:13:53.611332"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 10ms (Views: 3.1ms | ActiveRecord: 1.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 09:13:53.668637"], ["updated_at", "2015-08-08 09:13:53.668637"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 12ms (Views: 3.0ms | ActiveRecord: 1.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (1.5ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 09:14:47', '2015-08-08 09:14:47', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 09:14:47', '2015-08-08 09:14:47', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:14:47', '2015-08-08 09:14:47', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:14:47', '2015-08-08 09:14:47', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 09:14:47', '2015-08-08 09:14:47', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 09:14:47', '2015-08-08 09:14:47', 298486374)[0m
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.5ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 9ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 09:14:47.786260"], ["updated_at", "2015-08-08 09:14:47.786260"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 17ms (Views: 5.4ms | ActiveRecord: 1.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 7ms (ActiveRecord: 1.7ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "e81119c481d067b68dc4413308a7e36b"]]
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:14:47.846520"], ["updated_at", "2015-08-08 09:14:47.846520"], ["token", "e81119c481d067b68dc4413308a7e36b"], ["expires_at", "2015-08-22 09:14:47.876628"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "97e58aa1087f6749840587d1e6987f22"]]
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:14:47.892191"], ["updated_at", "2015-08-08 09:14:47.892191"], ["token", "97e58aa1087f6749840587d1e6987f22"], ["expires_at", "2015-08-22 09:14:47.894328"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 6ms (ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 4ms (ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 09:14:48.036809"], ["updated_at", "2015-08-08 09:14:48.036809"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 8ms (Views: 2.4ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 09:20:20', '2015-08-08 09:20:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 09:20:20', '2015-08-08 09:20:20', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:20:20', '2015-08-08 09:20:20', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:20:20', '2015-08-08 09:20:20', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 09:20:20', '2015-08-08 09:20:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 09:20:20', '2015-08-08 09:20:20', 298486374)[0m
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "daa0901f4650a7308fd030db47c5e9a5"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:20:20.902653"], ["updated_at", "2015-08-08 09:20:20.902653"], ["token", "daa0901f4650a7308fd030db47c5e9a5"], ["expires_at", "2015-08-22 09:20:20.917318"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "a415d7616683b7ed0530b52ae8ab134d"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:20:20.921281"], ["updated_at", "2015-08-08 09:20:20.921281"], ["token", "a415d7616683b7ed0530b52ae8ab134d"], ["expires_at", "2015-08-22 09:20:20.922075"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 09:20:20.946970"], ["updated_at", "2015-08-08 09:20:20.946970"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 09:20:21.000405"], ["updated_at", "2015-08-08 09:20:21.000405"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (1.7ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 09:27:40', '2015-08-08 09:27:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 09:27:40', '2015-08-08 09:27:40', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:27:40', '2015-08-08 09:27:40', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:27:40', '2015-08-08 09:27:40', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 09:27:40', '2015-08-08 09:27:40', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 09:27:40', '2015-08-08 09:27:40', 298486374)[0m
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 6ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 09:27:40.319787"], ["updated_at", "2015-08-08 09:27:40.319787"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 1.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "5b100ecb425f3cc1ade29884fe905fc7"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:27:40.331857"], ["updated_at", "2015-08-08 09:27:40.331857"], ["token", "5b100ecb425f3cc1ade29884fe905fc7"], ["expires_at", "2015-08-22 09:27:40.341863"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "9922ddd920cd3932535d9166c1e9e732"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:27:40.345804"], ["updated_at", "2015-08-08 09:27:40.345804"], ["token", "9922ddd920cd3932535d9166c1e9e732"], ["expires_at", "2015-08-22 09:27:40.346644"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 09:27:40.374936"], ["updated_at", "2015-08-08 09:27:40.374936"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 09:28:09', '2015-08-08 09:28:09', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 09:28:09', '2015-08-08 09:28:09', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:28:09', '2015-08-08 09:28:09', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:28:09', '2015-08-08 09:28:09', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 09:28:09', '2015-08-08 09:28:09', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 09:28:09', '2015-08-08 09:28:09', 298486374)[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "0fbef54ee899c8f993e1de1110251f57"]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:28:09.110415"], ["updated_at", "2015-08-08 09:28:09.110415"], ["token", "0fbef54ee899c8f993e1de1110251f57"], ["expires_at", "2015-08-22 09:28:09.121110"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "a073cab11b860f4ed33bdfe1ca18f9ec"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:28:09.129494"], ["updated_at", "2015-08-08 09:28:09.129494"], ["token", "a073cab11b860f4ed33bdfe1ca18f9ec"], ["expires_at", "2015-08-22 09:28:09.130372"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 09:28:09.155955"], ["updated_at", "2015-08-08 09:28:09.155955"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)  [["email", "test@test.test"], ["created_at", "2015-08-08 09:28:09.196195"], ["updated_at", "2015-08-08 09:28:09.196195"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 09:28:38', '2015-08-08 09:28:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 09:28:38', '2015-08-08 09:28:38', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:28:38', '2015-08-08 09:28:38', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:28:38', '2015-08-08 09:28:38', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 09:28:38', '2015-08-08 09:28:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 09:28:38', '2015-08-08 09:28:38', 298486374)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 9ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 09:28:39.011223"], ["updated_at", "2015-08-08 09:28:39.011223"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "f4d1cf17ad4780414a3fab8a094222c9"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:28:39.018515"], ["updated_at", "2015-08-08 09:28:39.018515"], ["token", "f4d1cf17ad4780414a3fab8a094222c9"], ["expires_at", "2015-08-22 09:28:39.025828"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "a29959a1e89ca91cc66a9fae294acc1e"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:28:39.029122"], ["updated_at", "2015-08-08 09:28:39.029122"], ["token", "a29959a1e89ca91cc66a9fae294acc1e"], ["expires_at", "2015-08-22 09:28:39.029934"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)  [["email", "test@test.test"], ["created_at", "2015-08-08 09:28:39.045836"], ["updated_at", "2015-08-08 09:28:39.045836"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 09:29:53', '2015-08-08 09:29:53', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 09:29:53', '2015-08-08 09:29:53', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:29:53', '2015-08-08 09:29:53', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:29:53', '2015-08-08 09:29:53', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 09:29:53', '2015-08-08 09:29:53', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 09:29:53', '2015-08-08 09:29:53', 298486374)[0m
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 6ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 09:29:53.645698"], ["updated_at", "2015-08-08 09:29:53.645698"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 09:29:53.681384"], ["updated_at", "2015-08-08 09:29:53.681384"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "67c6eac2289d1cb628c8fdcbbe1ccb4d"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:29:53.689643"], ["updated_at", "2015-08-08 09:29:53.689643"], ["token", "67c6eac2289d1cb628c8fdcbbe1ccb4d"], ["expires_at", "2015-08-22 09:29:53.697814"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "27e1239e9c4c5ebf371536e292557817"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:29:53.701227"], ["updated_at", "2015-08-08 09:29:53.701227"], ["token", "27e1239e9c4c5ebf371536e292557817"], ["expires_at", "2015-08-22 09:29:53.702067"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 09:30:15', '2015-08-08 09:30:15', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 09:30:15', '2015-08-08 09:30:15', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:30:15', '2015-08-08 09:30:15', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:30:15', '2015-08-08 09:30:15', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 09:30:15', '2015-08-08 09:30:15', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 09:30:15', '2015-08-08 09:30:15', 298486374)[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "bb4e2fc0046747cfcbae82abcce3e84c"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:30:15.968265"], ["updated_at", "2015-08-08 09:30:15.968265"], ["token", "bb4e2fc0046747cfcbae82abcce3e84c"], ["expires_at", "2015-08-22 09:30:15.980678"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "84864efeaa975dfcdee23af365134f19"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:30:15.984545"], ["updated_at", "2015-08-08 09:30:15.984545"], ["token", "84864efeaa975dfcdee23af365134f19"], ["expires_at", "2015-08-22 09:30:15.985416"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 09:30:16.023170"], ["updated_at", "2015-08-08 09:30:16.023170"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 09:30:16.044370"], ["updated_at", "2015-08-08 09:30:16.044370"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 09:32:31', '2015-08-08 09:32:31', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 09:32:31', '2015-08-08 09:32:31', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:32:31', '2015-08-08 09:32:31', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:32:31', '2015-08-08 09:32:31', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 09:32:31', '2015-08-08 09:32:31', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 09:32:31', '2015-08-08 09:32:31', 298486374)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 5ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)  [["email", "test@test.test"], ["created_at", "2015-08-08 09:32:31.937685"], ["updated_at", "2015-08-08 09:32:31.937685"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 09:32:31.969522"], ["updated_at", "2015-08-08 09:32:31.969522"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 2ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "c450e031efb0d4d8beda988efca27be7"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:32:31.983671"], ["updated_at", "2015-08-08 09:32:31.983671"], ["token", "c450e031efb0d4d8beda988efca27be7"], ["expires_at", "2015-08-22 09:32:31.991316"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "a047bc5e1ba14d53564cf639514d1123"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:32:31.995031"], ["updated_at", "2015-08-08 09:32:31.995031"], ["token", "a047bc5e1ba14d53564cf639514d1123"], ["expires_at", "2015-08-22 09:32:31.995894"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 09:39:38', '2015-08-08 09:39:38', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 09:39:38', '2015-08-08 09:39:38', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:39:38', '2015-08-08 09:39:38', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:39:38', '2015-08-08 09:39:38', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 09:39:38', '2015-08-08 09:39:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 09:39:38', '2015-08-08 09:39:38', 298486374)[0m
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 09:39:38.062774"], ["updated_at", "2015-08-08 09:39:38.062774"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 5ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "a4f6b857be4f6a7ab306dcd81d63d02b"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:39:38.081597"], ["updated_at", "2015-08-08 09:39:38.081597"], ["token", "a4f6b857be4f6a7ab306dcd81d63d02b"], ["expires_at", "2015-08-22 09:39:38.088706"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "c8de4ed12cbbc6f0d0b27662a945b382"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:39:38.092161"], ["updated_at", "2015-08-08 09:39:38.092161"], ["token", "c8de4ed12cbbc6f0d0b27662a945b382"], ["expires_at", "2015-08-22 09:39:38.093024"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 09:39:38.112024"], ["updated_at", "2015-08-08 09:39:38.112024"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 09:43:22', '2015-08-08 09:43:22', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 09:43:22', '2015-08-08 09:43:22', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:43:22', '2015-08-08 09:43:22', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:43:22', '2015-08-08 09:43:22', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 09:43:22', '2015-08-08 09:43:22', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 09:43:22', '2015-08-08 09:43:22', 298486374)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE (expires_at < '2015-08-22 09:43:22.295545') AND "api_keys"."token" IS NULL LIMIT 1
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE (expires_at < '2015-08-22 09:43:22.312803') AND "api_keys"."token" IS NULL LIMIT 1
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE (expires_at < '2015-08-22 09:43:22.319235') AND "api_keys"."token" IS NULL LIMIT 1[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 09:43:22.359212"], ["updated_at", "2015-08-08 09:43:22.359212"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "33bad7a41da41962e2caf44c8797f27c"]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:43:22.366871"], ["updated_at", "2015-08-08 09:43:22.366871"], ["token", "33bad7a41da41962e2caf44c8797f27c"], ["expires_at", "2015-08-22 09:43:22.378335"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "0b85ce52f135603e14dec243118c9b56"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:43:22.384046"], ["updated_at", "2015-08-08 09:43:22.384046"], ["token", "0b85ce52f135603e14dec243118c9b56"], ["expires_at", "2015-08-22 09:43:22.384960"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 09:43:51', '2015-08-08 09:43:51', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 09:43:51', '2015-08-08 09:43:51', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:43:51', '2015-08-08 09:43:51', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:43:51', '2015-08-08 09:43:51', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 09:43:51', '2015-08-08 09:43:51', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 09:43:51', '2015-08-08 09:43:51', 298486374)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "f0894a2e1dba5b3ee2948b87865acfa5"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:43:51.506884"], ["updated_at", "2015-08-08 09:43:51.506884"], ["token", "f0894a2e1dba5b3ee2948b87865acfa5"], ["expires_at", "2015-08-22 09:43:51.517513"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "e099d80fce40fb1cdf50003b7c7a4212"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:43:51.520953"], ["updated_at", "2015-08-08 09:43:51.520953"], ["token", "e099d80fce40fb1cdf50003b7c7a4212"], ["expires_at", "2015-08-22 09:43:51.521767"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35mApiKey Load (0.2ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE (expires_at < '2015-08-22 09:43:51.542727') AND "api_keys"."token" IS NULL LIMIT 1
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE (expires_at < '2015-08-22 09:43:51.557651') AND "api_keys"."token" IS NULL LIMIT 1
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE (expires_at < '2015-08-22 09:43:51.564633') AND "api_keys"."token" IS NULL LIMIT 1
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 09:43:51.585336"], ["updated_at", "2015-08-08 09:43:51.585336"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 7ms (Views: 1.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 09:45:24', '2015-08-08 09:45:24', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 09:45:24', '2015-08-08 09:45:24', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:45:24', '2015-08-08 09:45:24', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:45:24', '2015-08-08 09:45:24', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 09:45:24', '2015-08-08 09:45:24', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 09:45:24', '2015-08-08 09:45:24', 298486374)[0m
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.2ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "5397f766495bade4402b51bbb70d487a"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 09:45:24.959237"], ["updated_at", "2015-08-08 09:45:24.959237"], ["token", "5397f766495bade4402b51bbb70d487a"], ["expires_at", "2015-08-22 09:45:24.966169"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "c18652e6804fcabde24b820c297b94ea"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 09:45:24.968955"], ["updated_at", "2015-08-08 09:45:24.968955"], ["token", "c18652e6804fcabde24b820c297b94ea"], ["expires_at", "2015-08-22 09:45:24.969764"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)  [["email", "test@test.test"], ["created_at", "2015-08-08 09:45:24.999381"], ["updated_at", "2015-08-08 09:45:24.999381"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 09:45:49', '2015-08-08 09:45:49', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 09:45:49', '2015-08-08 09:45:49', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:45:49', '2015-08-08 09:45:49', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:45:49', '2015-08-08 09:45:49', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 09:45:49', '2015-08-08 09:45:49', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 09:45:49', '2015-08-08 09:45:49', 298486374)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 09:45:49.328564"], ["updated_at", "2015-08-08 09:45:49.328564"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 6ms (Views: 1.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "8c3197cee7f4291942556d03397d9210"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:45:49.372018"], ["updated_at", "2015-08-08 09:45:49.372018"], ["token", "8c3197cee7f4291942556d03397d9210"], ["expires_at", "2015-08-22 09:45:49.384286"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "98c4d964dd717da8dd7cba0eb9e7e9cf"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:45:49.390861"], ["updated_at", "2015-08-08 09:45:49.390861"], ["token", "98c4d964dd717da8dd7cba0eb9e7e9cf"], ["expires_at", "2015-08-22 09:45:49.392397"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.5ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 09:57:26', '2015-08-08 09:57:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 09:57:26', '2015-08-08 09:57:26', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:57:26', '2015-08-08 09:57:26', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:57:26', '2015-08-08 09:57:26', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 09:57:26', '2015-08-08 09:57:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 09:57:26', '2015-08-08 09:57:26', 298486374)[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.4ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE (expires_at < '2015-08-22 09:57:26.795814') AND "api_keys"."token" IS NULL LIMIT 1
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE (expires_at < '2015-08-22 09:57:26.799438') AND "api_keys"."token" IS NULL LIMIT 1
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE (expires_at < '2015-08-22 09:57:26.805371') AND "api_keys"."token" IS NULL LIMIT 1
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.2ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "172841bd41e5ffb32f129747af995546"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 09:57:26.815914"], ["updated_at", "2015-08-08 09:57:26.815914"], ["token", "172841bd41e5ffb32f129747af995546"], ["expires_at", "2015-08-22 09:57:26.825705"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "42ba8639f775ea2215bdfa0c8d9c21cf"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 09:57:26.828964"], ["updated_at", "2015-08-08 09:57:26.828964"], ["token", "42ba8639f775ea2215bdfa0c8d9c21cf"], ["expires_at", "2015-08-22 09:57:26.829684"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)  [["email", "test@test.test"], ["created_at", "2015-08-08 09:57:26.860121"], ["updated_at", "2015-08-08 09:57:26.860121"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 09:58:56', '2015-08-08 09:58:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 09:58:56', '2015-08-08 09:58:56', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:58:56', '2015-08-08 09:58:56', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 09:58:56', '2015-08-08 09:58:56', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 09:58:56', '2015-08-08 09:58:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 09:58:56', '2015-08-08 09:58:56', 298486374)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.2ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.4ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"access_token"=>"alsdkalksdjl1kj2391023la", "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE (expires_at < '2015-08-22 09:58:56.130994') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE (expires_at < '2015-08-22 09:58:56.136154') AND "api_keys"."token" IS NULL LIMIT 1[0m
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE (expires_at < '2015-08-22 09:58:56.143490') AND "api_keys"."token" IS NULL LIMIT 1
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE (expires_at < '2015-08-22 09:58:56.147059') AND "api_keys"."token" IS NULL LIMIT 1
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "access_token"=>"alsdkalksdjl1kj2391023la"}
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE (expires_at < '2015-08-22 09:58:56.150842') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "access_token"=>"alsdkalksdjl1kj2391023la", "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE (expires_at < '2015-08-22 09:58:56.155197') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "61b466535ecaa13e6c996ab9702515ce"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:58:56.164030"], ["updated_at", "2015-08-08 09:58:56.164030"], ["token", "61b466535ecaa13e6c996ab9702515ce"], ["expires_at", "2015-08-22 09:58:56.173328"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "0fc0747a9b69969748a22cdb48c4839b"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 09:58:56.176485"], ["updated_at", "2015-08-08 09:58:56.176485"], ["token", "0fc0747a9b69969748a22cdb48c4839b"], ["expires_at", "2015-08-22 09:58:56.177230"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 09:58:56.201696"], ["updated_at", "2015-08-08 09:58:56.201696"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:08:46', '2015-08-08 10:08:46', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:08:46', '2015-08-08 10:08:46', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:08:46', '2015-08-08 10:08:46', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:08:46', '2015-08-08 10:08:46', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:08:46', '2015-08-08 10:08:46', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:08:46', '2015-08-08 10:08:46', 298486374)[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "82670c2ce48d3ca28f8f82c58c6a7c4d"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:08:46.469737"], ["updated_at", "2015-08-08 10:08:46.469737"], ["token", "82670c2ce48d3ca28f8f82c58c6a7c4d"], ["expires_at", "2015-08-22 10:08:46.489502"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "c7366b268642977ac0988fcc59b681df"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:08:46.492049"], ["updated_at", "2015-08-08 10:08:46.492049"], ["token", "c7366b268642977ac0988fcc59b681df"], ["expires_at", "2015-08-22 10:08:46.493007"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 10:08:46.514194"], ["updated_at", "2015-08-08 10:08:46.514194"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 4ms (Views: 0.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.2ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:09:59', '2015-08-08 10:09:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:09:59', '2015-08-08 10:09:59', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:09:59', '2015-08-08 10:09:59', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:09:59', '2015-08-08 10:09:59', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:09:59', '2015-08-08 10:09:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:09:59', '2015-08-08 10:09:59', 298486374)[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 8ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 10:09:59.083595"], ["updated_at", "2015-08-08 10:09:59.083595"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "c61602264b47ad9cc241d67686f46659"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:09:59.099014"], ["updated_at", "2015-08-08 10:09:59.099014"], ["token", "c61602264b47ad9cc241d67686f46659"], ["expires_at", "2015-08-22 10:09:59.110198"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "df67c5a70fb53f90d1dc863da3a54a40"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:09:59.113210"], ["updated_at", "2015-08-08 10:09:59.113210"], ["token", "df67c5a70fb53f90d1dc863da3a54a40"], ["expires_at", "2015-08-22 10:09:59.114152"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.2ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 9ms (Views: 6.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:12:00', '2015-08-08 10:12:00', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:12:00', '2015-08-08 10:12:00', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:12:00', '2015-08-08 10:12:00', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:12:00', '2015-08-08 10:12:00', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:12:00', '2015-08-08 10:12:00', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:12:00', '2015-08-08 10:12:00', 298486374)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "0d6afb65a62f7b4029df0a549674a3dc"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:12:00.674067"], ["updated_at", "2015-08-08 10:12:00.674067"], ["token", "0d6afb65a62f7b4029df0a549674a3dc"], ["expires_at", "2015-08-22 10:12:00.686612"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "0e637b5bc174d7c8d67cbc8b55148ec4"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:12:00.689684"], ["updated_at", "2015-08-08 10:12:00.689684"], ["token", "0e637b5bc174d7c8d67cbc8b55148ec4"], ["expires_at", "2015-08-22 10:12:00.690522"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 10:12:00.734955"], ["updated_at", "2015-08-08 10:12:00.734955"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 4ms (Views: 1.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 5.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:12:12', '2015-08-08 10:12:12', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:12:12', '2015-08-08 10:12:12', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:12:12', '2015-08-08 10:12:12', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:12:12', '2015-08-08 10:12:12', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:12:12', '2015-08-08 10:12:12', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:12:12', '2015-08-08 10:12:12', 298486374)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 10:12:12.984201"], ["updated_at", "2015-08-08 10:12:12.984201"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 5ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "5e4d6c28eabbdebf9eec41ff08f90eb2"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:12:13.004807"], ["updated_at", "2015-08-08 10:12:13.004807"], ["token", "5e4d6c28eabbdebf9eec41ff08f90eb2"], ["expires_at", "2015-08-22 10:12:13.013601"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "555fdd1757e061fa34fb0976d8a427b2"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:12:13.016742"], ["updated_at", "2015-08-08 10:12:13.016742"], ["token", "555fdd1757e061fa34fb0976d8a427b2"], ["expires_at", "2015-08-22 10:12:13.017609"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.2ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:13:10', '2015-08-08 10:13:10', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:13:10', '2015-08-08 10:13:10', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:13:10', '2015-08-08 10:13:10', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:13:10', '2015-08-08 10:13:10', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:13:10', '2015-08-08 10:13:10', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:13:10', '2015-08-08 10:13:10', 298486374)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 6ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 10:13:10.365794"], ["updated_at", "2015-08-08 10:13:10.365794"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.2ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.2ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at < '2015-08-22 10:13:10.419012') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "c50142fd64b201d5277612559ef8efff"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:13:10.444895"], ["updated_at", "2015-08-08 10:13:10.444895"], ["token", "c50142fd64b201d5277612559ef8efff"], ["expires_at", "2015-08-22 10:13:10.445641"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "28473010ccd8187e02dac73c9c1b5909"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:13:10.448901"], ["updated_at", "2015-08-08 10:13:10.448901"], ["token", "28473010ccd8187e02dac73c9c1b5909"], ["expires_at", "2015-08-22 10:13:10.449630"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:13:25', '2015-08-08 10:13:25', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:13:25', '2015-08-08 10:13:25', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:13:25', '2015-08-08 10:13:25', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:13:25', '2015-08-08 10:13:25', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:13:25', '2015-08-08 10:13:25', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:13:25', '2015-08-08 10:13:25', 298486374)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.2ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at < '2015-08-22 10:13:25.390856') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.2ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "8ea1bdbe68c4c8c906444d407dafabd9"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 10:13:25.418943"], ["updated_at", "2015-08-08 10:13:25.418943"], ["token", "8ea1bdbe68c4c8c906444d407dafabd9"], ["expires_at", "2015-08-22 10:13:25.420106"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "5a7578799d452c9dd18223ff3179cb65"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 10:13:25.424035"], ["updated_at", "2015-08-08 10:13:25.424035"], ["token", "5a7578799d452c9dd18223ff3179cb65"], ["expires_at", "2015-08-22 10:13:25.424863"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)  [["email", "test@test.test"], ["created_at", "2015-08-08 10:13:25.452027"], ["updated_at", "2015-08-08 10:13:25.452027"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:13:45', '2015-08-08 10:13:45', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:13:45', '2015-08-08 10:13:45', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:13:45', '2015-08-08 10:13:45', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:13:45', '2015-08-08 10:13:45', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:13:45', '2015-08-08 10:13:45', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:13:45', '2015-08-08 10:13:45', 298486374)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 10:13:45.151355"], ["updated_at", "2015-08-08 10:13:45.151355"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "37274d50e95d889699733f01dde33e9f"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:13:45.164838"], ["updated_at", "2015-08-08 10:13:45.164838"], ["token", "37274d50e95d889699733f01dde33e9f"], ["expires_at", "2015-08-22 10:13:45.173230"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "52ece22388e6c38783fd61b143c5065f"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:13:45.176627"], ["updated_at", "2015-08-08 10:13:45.176627"], ["token", "52ece22388e6c38783fd61b143c5065f"], ["expires_at", "2015-08-22 10:13:45.177791"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.1ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.1ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at < '2015-08-22 10:13:45.225735') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT "api_keys".* FROM "api_keys"
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:14:36', '2015-08-08 10:14:36', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:14:36', '2015-08-08 10:14:36', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:14:36', '2015-08-08 10:14:36', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:14:36', '2015-08-08 10:14:36', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:14:36', '2015-08-08 10:14:36', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:14:36', '2015-08-08 10:14:36', 298486374)[0m
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.2ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at < '2015-08-22 10:14:36.269879') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT "api_keys".* FROM "api_keys" WHERE (expires_at < '2015-08-22 10:14:36.279488')
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "b7e7fe67016fae6934619a23d439c36d"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:14:36.296762"], ["updated_at", "2015-08-08 10:14:36.296762"], ["token", "b7e7fe67016fae6934619a23d439c36d"], ["expires_at", "2015-08-22 10:14:36.298513"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "0bb6cf4030aaa5324a43606ed385cdeb"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:14:36.303097"], ["updated_at", "2015-08-08 10:14:36.303097"], ["token", "0bb6cf4030aaa5324a43606ed385cdeb"], ["expires_at", "2015-08-22 10:14:36.304432"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 10:14:36.329242"], ["updated_at", "2015-08-08 10:14:36.329242"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:14:56', '2015-08-08 10:14:56', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:14:56', '2015-08-08 10:14:56', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:14:56', '2015-08-08 10:14:56', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:14:56', '2015-08-08 10:14:56', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:14:56', '2015-08-08 10:14:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:14:56', '2015-08-08 10:14:56', 298486374)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)  [["email", "test@test.test"], ["created_at", "2015-08-08 10:14:56.566209"], ["updated_at", "2015-08-08 10:14:56.566209"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "9c6c25b3a663d6146ea456c475e9166c"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:14:56.588849"], ["updated_at", "2015-08-08 10:14:56.588849"], ["token", "9c6c25b3a663d6146ea456c475e9166c"], ["expires_at", "2015-08-22 10:14:56.595666"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "2b86784358f9e9a382d4f71de986fc1c"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:14:56.599022"], ["updated_at", "2015-08-08 10:14:56.599022"], ["token", "2b86784358f9e9a382d4f71de986fc1c"], ["expires_at", "2015-08-22 10:14:56.599840"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 4.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.2ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-22 10:14:56.649273') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT "api_keys".* FROM "api_keys" WHERE (expires_at > '2015-08-22 10:14:56.650403')[0m
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:16:05', '2015-08-08 10:16:05', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:16:05', '2015-08-08 10:16:05', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:16:05', '2015-08-08 10:16:05', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:16:05', '2015-08-08 10:16:05', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:16:05', '2015-08-08 10:16:05', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:16:05', '2015-08-08 10:16:05', 298486374)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)  [["email", "test@test.test"], ["created_at", "2015-08-08 10:16:05.849049"], ["updated_at", "2015-08-08 10:16:05.849049"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "36087d9cdc228a5b9a05a453680a1f14"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:16:05.879534"], ["updated_at", "2015-08-08 10:16:05.879534"], ["token", "36087d9cdc228a5b9a05a453680a1f14"], ["expires_at", "2015-08-22 10:16:05.887083"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "6c7db1b8d5180204849bd025be268898"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:16:05.890060"], ["updated_at", "2015-08-08 10:16:05.890060"], ["token", "6c7db1b8d5180204849bd025be268898"], ["expires_at", "2015-08-22 10:16:05.890859"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:16:05.901275') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT "api_keys".* FROM "api_keys" WHERE (expires_at > '2015-08-08 10:16:05.902728')
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 8ms (Views: 7.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.1ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:18:02', '2015-08-08 10:18:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:18:02', '2015-08-08 10:18:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:18:02', '2015-08-08 10:18:02', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:18:02', '2015-08-08 10:18:02', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:18:02', '2015-08-08 10:18:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:18:02', '2015-08-08 10:18:02', 298486374)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 10ms (Views: 7.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.1ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "ddcaf4573b61ad062252e6b80b89dfe9"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:18:02.773868"], ["updated_at", "2015-08-08 10:18:02.773868"], ["token", "ddcaf4573b61ad062252e6b80b89dfe9"], ["expires_at", "2015-08-22 10:18:02.784657"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "3187d06198b823937fb28932a0b1a1db"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:18:02.787010"], ["updated_at", "2015-08-08 10:18:02.787010"], ["token", "3187d06198b823937fb28932a0b1a1db"], ["expires_at", "2015-08-22 10:18:02.788874"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)  [["email", "test@test.test"], ["created_at", "2015-08-08 10:18:02.808166"], ["updated_at", "2015-08-08 10:18:02.808166"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:18:25', '2015-08-08 10:18:25', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:18:25', '2015-08-08 10:18:25', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:18:25', '2015-08-08 10:18:25', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:18:25', '2015-08-08 10:18:25', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:18:25', '2015-08-08 10:18:25', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:18:25', '2015-08-08 10:18:25', 298486374)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "1b119d479e3e604d17da63f5b360eea7"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:18:25.380731"], ["updated_at", "2015-08-08 10:18:25.380731"], ["token", "1b119d479e3e604d17da63f5b360eea7"], ["expires_at", "2015-08-22 10:18:25.392166"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "45dd350c16c772801fed70e5dcb919c6"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:18:25.396150"], ["updated_at", "2015-08-08 10:18:25.396150"], ["token", "45dd350c16c772801fed70e5dcb919c6"], ["expires_at", "2015-08-22 10:18:25.397002"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.2ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 4.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.1ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 10:18:25.495170"], ["updated_at", "2015-08-08 10:18:25.495170"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:19:33', '2015-08-08 10:19:33', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:19:33', '2015-08-08 10:19:33', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:19:33', '2015-08-08 10:19:33', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:19:33', '2015-08-08 10:19:33', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:19:33', '2015-08-08 10:19:33', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:19:33', '2015-08-08 10:19:33', 298486374)[0m
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 5ms (ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 10:19:33.554411"], ["updated_at", "2015-08-08 10:19:33.554411"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "75f71e9bb941d11b54270adda42d41fe"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:19:33.565307"], ["updated_at", "2015-08-08 10:19:33.565307"], ["token", "75f71e9bb941d11b54270adda42d41fe"], ["expires_at", "2015-08-22 10:19:33.572292"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "65adb2e07bf333d0b71cb8afe2ea3d56"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:19:33.575567"], ["updated_at", "2015-08-08 10:19:33.575567"], ["token", "65adb2e07bf333d0b71cb8afe2ea3d56"], ["expires_at", "2015-08-22 10:19:33.576873"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 10ms (Views: 8.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:26:48', '2015-08-08 10:26:48', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:26:48', '2015-08-08 10:26:48', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:26:48', '2015-08-08 10:26:48', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:26:48', '2015-08-08 10:26:48', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:26:48', '2015-08-08 10:26:48', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:26:48', '2015-08-08 10:26:48', 298486374)[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 10:26:48.048356"], ["updated_at", "2015-08-08 10:26:48.048356"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 7ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 9ms (Views: 7.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.1ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.2ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "f6aa12dba79587e1a7c2cfcf327b04eb"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 10:26:48.141765"], ["updated_at", "2015-08-08 10:26:48.141765"], ["token", "f6aa12dba79587e1a7c2cfcf327b04eb"], ["expires_at", "2015-08-22 10:26:48.151881"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "0146e417c6fcc82447dc08270368e94b"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 10:26:48.154390"], ["updated_at", "2015-08-08 10:26:48.154390"], ["token", "0146e417c6fcc82447dc08270368e94b"], ["expires_at", "2015-08-22 10:26:48.155146"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:31:55', '2015-08-08 10:31:55', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:31:55', '2015-08-08 10:31:55', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:31:55', '2015-08-08 10:31:55', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:31:55', '2015-08-08 10:31:55', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:31:55', '2015-08-08 10:31:55', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:31:55', '2015-08-08 10:31:55', 298486374)[0m
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 10:31:55.188983"], ["updated_at", "2015-08-08 10:31:55.188983"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 6ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "3e28b2fc1423ca40eb332c11c231ed2f"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:31:55.220018"], ["updated_at", "2015-08-08 10:31:55.220018"], ["token", "3e28b2fc1423ca40eb332c11c231ed2f"], ["expires_at", "2015-08-22 10:31:55.229965"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "9b639e63b19b85c67f274e098164018c"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:31:55.233772"], ["updated_at", "2015-08-08 10:31:55.233772"], ["token", "9b639e63b19b85c67f274e098164018c"], ["expires_at", "2015-08-22 10:31:55.234651"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:32:47', '2015-08-08 10:32:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:32:47', '2015-08-08 10:32:47', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:32:47', '2015-08-08 10:32:47', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:32:47', '2015-08-08 10:32:47', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:32:47', '2015-08-08 10:32:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:32:47', '2015-08-08 10:32:47', 298486374)[0m
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.4ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)  [["email", "test@test.test"], ["created_at", "2015-08-08 10:32:47.502992"], ["updated_at", "2015-08-08 10:32:47.502992"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "4782dcaed4f6fd0712e501a165533ef3"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 10:32:47.528500"], ["updated_at", "2015-08-08 10:32:47.528500"], ["token", "4782dcaed4f6fd0712e501a165533ef3"], ["expires_at", "2015-08-22 10:32:47.536106"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "10c97f2713bfc2691345b38e9aa80af8"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 10:32:47.538831"], ["updated_at", "2015-08-08 10:32:47.538831"], ["token", "10c97f2713bfc2691345b38e9aa80af8"], ["expires_at", "2015-08-22 10:32:47.539663"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:34:06', '2015-08-08 10:34:06', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:34:06', '2015-08-08 10:34:06', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:34:06', '2015-08-08 10:34:06', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:34:06', '2015-08-08 10:34:06', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:34:06', '2015-08-08 10:34:06', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:34:06', '2015-08-08 10:34:06', 298486374)[0m
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.1ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)  [["email", "test@test.test"], ["created_at", "2015-08-08 10:34:06.359271"], ["updated_at", "2015-08-08 10:34:06.359271"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 0.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.2ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "12455610d935f75cc6424afa56ee678b"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 10:34:06.381087"], ["updated_at", "2015-08-08 10:34:06.381087"], ["token", "12455610d935f75cc6424afa56ee678b"], ["expires_at", "2015-08-22 10:34:06.393726"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "bfb0ad1070a8bc9a67b025466b9213a5"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 10:34:06.396857"], ["updated_at", "2015-08-08 10:34:06.396857"], ["token", "bfb0ad1070a8bc9a67b025466b9213a5"], ["expires_at", "2015-08-22 10:34:06.397685"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:34:22', '2015-08-08 10:34:22', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:34:22', '2015-08-08 10:34:22', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:34:22', '2015-08-08 10:34:22', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:34:22', '2015-08-08 10:34:22', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:34:22', '2015-08-08 10:34:22', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:34:22', '2015-08-08 10:34:22', 298486374)[0m
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 13ms (Views: 8.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.2ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "854962d20ed84769e59b763db9f95655"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 10:34:22.487532"], ["updated_at", "2015-08-08 10:34:22.487532"], ["token", "854962d20ed84769e59b763db9f95655"], ["expires_at", "2015-08-22 10:34:22.497542"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "38ccdddd0c7a6e64d074a8431da2557c"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 10:34:22.500938"], ["updated_at", "2015-08-08 10:34:22.500938"], ["token", "38ccdddd0c7a6e64d074a8431da2557c"], ["expires_at", "2015-08-22 10:34:22.501791"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)  [["email", "test@test.test"], ["created_at", "2015-08-08 10:34:22.517429"], ["updated_at", "2015-08-08 10:34:22.517429"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:34:36', '2015-08-08 10:34:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:34:36', '2015-08-08 10:34:36', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:34:36', '2015-08-08 10:34:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:34:36', '2015-08-08 10:34:36', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:34:36', '2015-08-08 10:34:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:34:36', '2015-08-08 10:34:36', 298486374)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 10:34:36.179903"], ["updated_at", "2015-08-08 10:34:36.179903"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 7ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "261fbb429305765ac7a486a9afab2f50"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:34:36.209802"], ["updated_at", "2015-08-08 10:34:36.209802"], ["token", "261fbb429305765ac7a486a9afab2f50"], ["expires_at", "2015-08-22 10:34:36.217864"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "69f59f1bd498487aa99df48eaa676b07"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:34:36.221345"], ["updated_at", "2015-08-08 10:34:36.221345"], ["token", "69f59f1bd498487aa99df48eaa676b07"], ["expires_at", "2015-08-22 10:34:36.222186"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:35:07', '2015-08-08 10:35:07', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:35:07', '2015-08-08 10:35:07', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:35:07', '2015-08-08 10:35:07', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:35:07', '2015-08-08 10:35:07', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:35:07', '2015-08-08 10:35:07', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:35:07', '2015-08-08 10:35:07', 298486374)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "c18b73d02808fe3bf148a11c9438c2f4"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:35:07.239043"], ["updated_at", "2015-08-08 10:35:07.239043"], ["token", "c18b73d02808fe3bf148a11c9438c2f4"], ["expires_at", "2015-08-22 10:35:07.251790"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "73630fe6a94a5311f73adc15eaa98251"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:35:07.254620"], ["updated_at", "2015-08-08 10:35:07.254620"], ["token", "73630fe6a94a5311f73adc15eaa98251"], ["expires_at", "2015-08-22 10:35:07.255360"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 4ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 10:35:07.295304"], ["updated_at", "2015-08-08 10:35:07.295304"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.1ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 7ms (Views: 5.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.1ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.2ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.1ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:36:40', '2015-08-08 10:36:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:36:40', '2015-08-08 10:36:40', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:36:40', '2015-08-08 10:36:40', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:36:40', '2015-08-08 10:36:40', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:36:40', '2015-08-08 10:36:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:36:40', '2015-08-08 10:36:40', 298486374)[0m
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "98c3c1defc2f9114d5a7815002c1c989"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:36:40.266517"], ["updated_at", "2015-08-08 10:36:40.266517"], ["token", "98c3c1defc2f9114d5a7815002c1c989"], ["expires_at", "2015-08-22 10:36:40.282147"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "ab323c128210a0e7c49354a1989ead6b"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:36:40.284880"], ["updated_at", "2015-08-08 10:36:40.284880"], ["token", "ab323c128210a0e7c49354a1989ead6b"], ["expires_at", "2015-08-22 10:36:40.285602"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 9ms (Views: 6.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:36:40.351896') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 1.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)  [["email", "test@test.test"], ["created_at", "2015-08-08 10:36:40.388079"], ["updated_at", "2015-08-08 10:36:40.388079"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:37:17', '2015-08-08 10:37:17', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:37:17', '2015-08-08 10:37:17', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:37:17', '2015-08-08 10:37:17', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:37:17', '2015-08-08 10:37:17', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:37:17', '2015-08-08 10:37:17', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:37:17', '2015-08-08 10:37:17', 298486374)[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "918336decbaaf341a40602072a37006d"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:37:17.139059"], ["updated_at", "2015-08-08 10:37:17.139059"], ["token", "918336decbaaf341a40602072a37006d"], ["expires_at", "2015-08-22 10:37:17.157822"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "02c2dfea18f8b41daad33d3141d4b6df"]]
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:37:17.162926"], ["updated_at", "2015-08-08 10:37:17.162926"], ["token", "02c2dfea18f8b41daad33d3141d4b6df"], ["expires_at", "2015-08-22 10:37:17.165194"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 10:37:17.209529"], ["updated_at", "2015-08-08 10:37:17.209529"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 4ms (Views: 1.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 8ms (Views: 6.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:37:17.233698') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.2ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:37:17.261714') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:37:17.266951') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 10:37:17.268013"], ["updated_at", "2015-08-08 10:37:17.268013"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:37:33', '2015-08-08 10:37:33', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:37:33', '2015-08-08 10:37:33', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:37:33', '2015-08-08 10:37:33', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:37:33', '2015-08-08 10:37:33', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:37:33', '2015-08-08 10:37:33', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:37:33', '2015-08-08 10:37:33', 298486374)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:37:33.730453') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 10:37:33.742380"], ["updated_at", "2015-08-08 10:37:33.742380"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 14ms (Views: 0.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:37:33.750942') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:37:33.780702') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "ca3ce8a7d676cff808a976e60959208f"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:37:33.787654"], ["updated_at", "2015-08-08 10:37:33.787654"], ["token", "ca3ce8a7d676cff808a976e60959208f"], ["expires_at", "2015-08-22 10:37:33.788380"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "04fb037939f85657316090fb0de3b190"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:37:33.790549"], ["updated_at", "2015-08-08 10:37:33.790549"], ["token", "04fb037939f85657316090fb0de3b190"], ["expires_at", "2015-08-22 10:37:33.791145"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 10:37:33.810385"], ["updated_at", "2015-08-08 10:37:33.810385"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:39:39', '2015-08-08 10:39:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:39:39', '2015-08-08 10:39:39', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:39:39', '2015-08-08 10:39:39', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:39:39', '2015-08-08 10:39:39', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:39:39', '2015-08-08 10:39:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:39:39', '2015-08-08 10:39:39', 298486374)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.2ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:39:39.926165') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 13ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:39:39.953847') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 10:39:39.954948"], ["updated_at", "2015-08-08 10:39:39.954948"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:39:39.961170') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 10:39:40.005862"], ["updated_at", "2015-08-08 10:39:40.005862"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 2ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "cff3f8492dca83217281358a623b550a"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:39:40.010967"], ["updated_at", "2015-08-08 10:39:40.010967"], ["token", "cff3f8492dca83217281358a623b550a"], ["expires_at", "2015-08-22 10:39:40.011849"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "2b1921aa4f03b9a048593a5efcd7640b"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:39:40.014569"], ["updated_at", "2015-08-08 10:39:40.014569"], ["token", "2b1921aa4f03b9a048593a5efcd7640b"], ["expires_at", "2015-08-22 10:39:40.015343"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:40:28', '2015-08-08 10:40:28', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:40:28', '2015-08-08 10:40:28', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:40:28', '2015-08-08 10:40:28', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:40:28', '2015-08-08 10:40:28', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:40:28', '2015-08-08 10:40:28', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:40:28', '2015-08-08 10:40:28', 298486374)[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "13ce5efb199acef3102b98ff94b6572e"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:40:28.629836"], ["updated_at", "2015-08-08 10:40:28.629836"], ["token", "13ce5efb199acef3102b98ff94b6572e"], ["expires_at", "2015-08-22 10:40:28.644588"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "63a8b265029b9c423782d91070f1d1ee"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:40:28.647588"], ["updated_at", "2015-08-08 10:40:28.647588"], ["token", "63a8b265029b9c423782d91070f1d1ee"], ["expires_at", "2015-08-22 10:40:28.648338"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)  [["email", "test@test.test"], ["created_at", "2015-08-08 10:40:28.674802"], ["updated_at", "2015-08-08 10:40:28.674802"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:40:28.696375') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:40:28.715280') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:40:28.723764') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 10:40:28.724904"], ["updated_at", "2015-08-08 10:40:28.724904"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:49:09', '2015-08-08 10:49:09', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:49:09', '2015-08-08 10:49:09', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:49:09', '2015-08-08 10:49:09', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:49:09', '2015-08-08 10:49:09', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:49:09', '2015-08-08 10:49:09', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:49:09', '2015-08-08 10:49:09', 298486374)[0m
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 10:49:09.303313"], ["updated_at", "2015-08-08 10:49:09.303313"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.1ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 18ms (Views: 16.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.2ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:49:09.359582') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 11ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:49:09.380294') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.5ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:49:09.385939') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 10:49:09.388007"], ["updated_at", "2015-08-08 10:49:09.388007"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 6ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "5d7666b4eadb17d41a39f6463e86b092"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:49:09.397919"], ["updated_at", "2015-08-08 10:49:09.397919"], ["token", "5d7666b4eadb17d41a39f6463e86b092"], ["expires_at", "2015-08-22 10:49:09.399191"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "c0fe45f93af4fdeeceee40ed254a9019"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:49:09.405956"], ["updated_at", "2015-08-08 10:49:09.405956"], ["token", "c0fe45f93af4fdeeceee40ed254a9019"], ["expires_at", "2015-08-22 10:49:09.407032"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:49:54', '2015-08-08 10:49:54', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:49:54', '2015-08-08 10:49:54', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:49:54', '2015-08-08 10:49:54', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:49:54', '2015-08-08 10:49:54', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:49:54', '2015-08-08 10:49:54', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:49:54', '2015-08-08 10:49:54', 298486374)[0m
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:49:54.907114') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 10:49:54.917935"], ["updated_at", "2015-08-08 10:49:54.917935"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 13ms (Views: 0.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:49:54.930261') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.1ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 1.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:49:54.947322') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "4f915643fa2b14a29e395fc8d888ebd9"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:49:54.978114"], ["updated_at", "2015-08-08 10:49:54.978114"], ["token", "4f915643fa2b14a29e395fc8d888ebd9"], ["expires_at", "2015-08-22 10:49:54.980223"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "545f93285bea8294e21216fe4f53e10b"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:49:54.984035"], ["updated_at", "2015-08-08 10:49:54.984035"], ["token", "545f93285bea8294e21216fe4f53e10b"], ["expires_at", "2015-08-22 10:49:54.984730"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 10:49:55.004331"], ["updated_at", "2015-08-08 10:49:55.004331"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 2ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 10:52:57', '2015-08-08 10:52:57', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 10:52:57', '2015-08-08 10:52:57', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:52:57', '2015-08-08 10:52:57', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 10:52:57', '2015-08-08 10:52:57', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 10:52:57', '2015-08-08 10:52:57', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 10:52:57', '2015-08-08 10:52:57', 298486374)[0m
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 6ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["email", "test@test.test"], ["created_at", "2015-08-08 10:52:57.851901"], ["updated_at", "2015-08-08 10:52:57.851901"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 1.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "d583b0848c173555013ec6dcefa4ed74"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:52:57.868238"], ["updated_at", "2015-08-08 10:52:57.868238"], ["token", "d583b0848c173555013ec6dcefa4ed74"], ["expires_at", "2015-08-22 10:52:57.877893"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "58b3511471ae69dfef00f45eaabf69c3"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 10:52:57.881060"], ["updated_at", "2015-08-08 10:52:57.881060"], ["token", "58b3511471ae69dfef00f45eaabf69c3"], ["expires_at", "2015-08-22 10:52:57.881919"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:52:57.919011') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 10:52:57.920352"], ["updated_at", "2015-08-08 10:52:57.920352"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:52:57.931145') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 10:52:57.936668') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "expires_at" datetime, "token" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar NOT NULL, "crypted_password" varchar, "salt" varchar, "created_at" datetime, "updated_at" datetime, "remember_me_token" varchar, "remember_me_token_expires_at" datetime, "reset_password_token" varchar, "reset_password_token_expires_at" datetime, "reset_password_email_sent_at" datetime, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.0ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.9ms)[0m  [1mCREATE  INDEX "index_users_on_remember_me_token" ON "users" ("remember_me_token")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_remember_me_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_remember_me_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.8ms)[0m  CREATE  INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150808111821')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150807185324')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150807201843')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150807201844')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150807201845')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150808085117')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "api_keys"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 11:20:47', '2015-08-08 11:20:47', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 11:20:47', '2015-08-08 11:20:47', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:20:47', '2015-08-08 11:20:47', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:20:47', '2015-08-08 11:20:47', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'supersalt1', '2015-08-08 11:20:47', '2015-08-08 11:20:47', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'supersalt', '2015-08-08 11:20:47', '2015-08-08 11:20:47', 298486374)
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 11ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 4ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:20:47.900079') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 17ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 7ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:20:47.939554') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 11:20:47.940823"], ["updated_at", "2015-08-08 11:20:47.940823"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 4ms (Views: 0.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:20:47.952283') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "8c5a6906bf74a9c443a87fd8e1829e95"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 11:20:47.959054"], ["updated_at", "2015-08-08 11:20:47.959054"], ["token", "8c5a6906bf74a9c443a87fd8e1829e95"], ["expires_at", "2015-08-22 11:20:47.959864"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "e86a4f010395393d90950126f5a9ba51"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 11:20:47.962701"], ["updated_at", "2015-08-08 11:20:47.962701"], ["token", "e86a4f010395393d90950126f5a9ba51"], ["expires_at", "2015-08-22 11:20:47.963402"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 11:23:01', '2015-08-08 11:23:01', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 11:23:01', '2015-08-08 11:23:01', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:23:01', '2015-08-08 11:23:01', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:23:01', '2015-08-08 11:23:01', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'bob1', '2015-08-08 11:23:01', '2015-08-08 11:23:01', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'bob2', '2015-08-08 11:23:01', '2015-08-08 11:23:01', 298486374)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "ad4322195a46f5e5b4fc65e6d197963f"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 11:23:01.201415"], ["updated_at", "2015-08-08 11:23:01.201415"], ["token", "ad4322195a46f5e5b4fc65e6d197963f"], ["expires_at", "2015-08-22 11:23:01.210464"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "7120bd56c9ede5587540f92380dfea0c"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 11:23:01.214900"], ["updated_at", "2015-08-08 11:23:01.214900"], ["token", "7120bd56c9ede5587540f92380dfea0c"], ["expires_at", "2015-08-22 11:23:01.215675"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["name", "NOT BOB"], ["updated_at", "2015-08-08 11:23:01.262088"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.2ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 5.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:23:01.309478') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 11:23:01.311328"], ["updated_at", "2015-08-08 11:23:01.311328"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 2.4ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:23:01.326191') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:23:01.342888') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 11:27:25', '2015-08-08 11:27:25', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 11:27:25', '2015-08-08 11:27:25', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:27:25', '2015-08-08 11:27:25', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:27:25', '2015-08-08 11:27:25', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'stasd081l124$kasdlkasdlringaa', 'bob1', '2015-08-08 11:27:25', '2015-08-08 11:27:25', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'stasd081l124$kasdlkasdlring', 'bob2', '2015-08-08 11:27:25', '2015-08-08 11:27:25', 298486374)[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 7ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "NOT BOB"], ["updated_at", "2015-08-08 11:27:25.180767"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.2ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "ee0e316fb7fe9a561b7f45c2c45f9c24"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 11:27:25.197365"], ["updated_at", "2015-08-08 11:27:25.197365"], ["token", "ee0e316fb7fe9a561b7f45c2c45f9c24"], ["expires_at", "2015-08-22 11:27:25.206035"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "6311de26c8d3ca832861e5d07254e7a5"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 11:27:25.209859"], ["updated_at", "2015-08-08 11:27:25.209859"], ["token", "6311de26c8d3ca832861e5d07254e7a5"], ["expires_at", "2015-08-22 11:27:25.210752"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35mApiKey Exists (0.5ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:27:25.229034') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 11:27:25.233576"], ["updated_at", "2015-08-08 11:27:25.233576"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 10ms (Views: 1.4ms | ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.1ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:27:25.254751') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:27:25.260025') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.2ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 11:45:14', '2015-08-08 11:45:14', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 11:45:14', '2015-08-08 11:45:14', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:45:14', '2015-08-08 11:45:14', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:45:14', '2015-08-08 11:45:14', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob1', '2015-08-08 11:45:14', '2015-08-08 11:45:14', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob2', '2015-08-08 11:45:14', '2015-08-08 11:45:14', 298486374)[0m
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "a32b5e99f8ca3cb5e1c56e7b49f882ec"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 11:45:14.264169"], ["updated_at", "2015-08-08 11:45:14.264169"], ["token", "a32b5e99f8ca3cb5e1c56e7b49f882ec"], ["expires_at", "2015-08-22 11:45:14.277594"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "80fdfb89e10d352ea61433662adc545b"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 11:45:14.280580"], ["updated_at", "2015-08-08 11:45:14.280580"], ["token", "80fdfb89e10d352ea61433662adc545b"], ["expires_at", "2015-08-22 11:45:14.281426"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:45:14.329461') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 11:45:14.331541"], ["updated_at", "2015-08-08 11:45:14.331541"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 6ms (Views: 1.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 9ms (Views: 8.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.2ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:45:14.382893') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:45:14.388997') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["name", "NOT BOB"], ["updated_at", "2015-08-08 11:45:14.407368"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("email", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["email", "test@test.test"], ["name", "BOB"], ["created_at", "2015-08-08 11:45:14.430733"], ["updated_at", "2015-08-08 11:45:14.430733"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 0.9ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 11:46:48', '2015-08-08 11:46:48', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 11:46:48', '2015-08-08 11:46:48', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:46:48', '2015-08-08 11:46:48', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:46:48', '2015-08-08 11:46:48', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob1', '2015-08-08 11:46:48', '2015-08-08 11:46:48', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob2', '2015-08-08 11:46:48', '2015-08-08 11:46:48', 298486374)[0m
  [1m[35m (3.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "64440ff647bf4e81bbe28a0ef004803a"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 11:46:48.063266"], ["updated_at", "2015-08-08 11:46:48.063266"], ["token", "64440ff647bf4e81bbe28a0ef004803a"], ["expires_at", "2015-08-22 11:46:48.078917"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "9a1203d395dc1490a0590f6568f4b07e"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 11:46:48.091239"], ["updated_at", "2015-08-08 11:46:48.091239"], ["token", "9a1203d395dc1490a0590f6568f4b07e"], ["expires_at", "2015-08-22 11:46:48.093322"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:46:48.140757') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 4ms (ActiveRecord: 0.5ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36mApiKey Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:46:48.146686') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 11:46:48.149320"], ["updated_at", "2015-08-08 11:46:48.149320"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 8ms (Views: 2.3ms | ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:46:48.161811') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
SessionsControllerTest: test_should_update/create_token_if_user_presents
------------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"strinaag@string.test", "password"=>"[FILTERED]"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("email", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["email", "test@test.test"], ["name", "BOB"], ["created_at", "2015-08-08 11:46:48.193439"], ["updated_at", "2015-08-08 11:46:48.193439"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "NOT BOB"], ["updated_at", "2015-08-08 11:46:48.201335"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 11:47:13', '2015-08-08 11:47:13', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 11:47:13', '2015-08-08 11:47:13', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:47:13', '2015-08-08 11:47:13', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:47:13', '2015-08-08 11:47:13', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob1', '2015-08-08 11:47:13', '2015-08-08 11:47:13', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob2', '2015-08-08 11:47:13', '2015-08-08 11:47:13', 298486374)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.test"], ["name", "BOB"], ["created_at", "2015-08-08 11:47:13.698373"], ["updated_at", "2015-08-08 11:47:13.698373"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 5ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["name", "NOT BOB"], ["updated_at", "2015-08-08 11:47:13.706320"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.2ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "cf888a910ef6155c523a6df6a106cc14"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 11:47:13.734374"], ["updated_at", "2015-08-08 11:47:13.734374"], ["token", "cf888a910ef6155c523a6df6a106cc14"], ["expires_at", "2015-08-22 11:47:13.741006"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "0722c622b63456cdeb162a72f66a3f2f"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 11:47:13.743520"], ["updated_at", "2015-08-08 11:47:13.743520"], ["token", "0722c622b63456cdeb162a72f66a3f2f"], ["expires_at", "2015-08-22 11:47:13.744328"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.4ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.2ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 7ms (Views: 4.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:47:13.771382') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:47:13.776756') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 11:47:13.777897"], ["updated_at", "2015-08-08 11:47:13.777897"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.2ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:47:13.790064') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.1ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
SessionsControllerTest: test_should_update/create_token_if_user_presents
------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"strinaag@string.test", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "strinaag@string.test"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 11:53:16', '2015-08-08 11:53:16', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 11:53:16', '2015-08-08 11:53:16', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:53:16', '2015-08-08 11:53:16', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:53:16', '2015-08-08 11:53:16', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob1', '2015-08-08 11:53:16', '2015-08-08 11:53:16', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob2', '2015-08-08 11:53:16', '2015-08-08 11:53:16', 298486374)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 7ms (Views: 5.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35mApiKey Exists (0.2ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:53:16.147142') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 11:53:16.161889"], ["updated_at", "2015-08-08 11:53:16.161889"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 17ms (Views: 0.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:53:16.169041') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:53:16.185321') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.test"], ["name", "BOB"], ["created_at", "2015-08-08 11:53:16.210882"], ["updated_at", "2015-08-08 11:53:16.210882"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "NOT BOB"], ["updated_at", "2015-08-08 11:53:16.236124"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
SessionsControllerTest: test_should_update/create_token_if_user_presents
------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"strinaag@string.test", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "035af2274521f5efaf0f22fef86436d9"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 11:53:16.254520"], ["updated_at", "2015-08-08 11:53:16.254520"], ["token", "035af2274521f5efaf0f22fef86436d9"], ["expires_at", "2015-08-22 11:53:16.256492"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "22c7de0340b7c0e726dc82374f42dcd9"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 11:53:16.261867"], ["updated_at", "2015-08-08 11:53:16.261867"], ["token", "22c7de0340b7c0e726dc82374f42dcd9"], ["expires_at", "2015-08-22 11:53:16.263049"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 11:53:38', '2015-08-08 11:53:38', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 11:53:38', '2015-08-08 11:53:38', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:53:38', '2015-08-08 11:53:38', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:53:38', '2015-08-08 11:53:38', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob1', '2015-08-08 11:53:38', '2015-08-08 11:53:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob2', '2015-08-08 11:53:38', '2015-08-08 11:53:38', 298486374)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
SessionsControllerTest: test_should_update/create_token_if_user_presents
------------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"strinaag@string.test", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "strinaag@string.test"]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.5ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.3ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:53:38.716423') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 11:53:38.726373"], ["updated_at", "2015-08-08 11:53:38.726373"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 13ms (Views: 1.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:53:38.737896') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:53:38.746749') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.6ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "NOT BOB"], ["updated_at", "2015-08-08 11:53:38.797854"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["email", "test@test.test"], ["name", "BOB"], ["created_at", "2015-08-08 11:53:38.812361"], ["updated_at", "2015-08-08 11:53:38.812361"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.2ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "5e6642985d15e036a1a34d8c76f05e41"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 11:53:38.819430"], ["updated_at", "2015-08-08 11:53:38.819430"], ["token", "5e6642985d15e036a1a34d8c76f05e41"], ["expires_at", "2015-08-22 11:53:38.820837"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "09c112af9c679344c9082ce895479a91"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 11:53:38.824475"], ["updated_at", "2015-08-08 11:53:38.824475"], ["token", "09c112af9c679344c9082ce895479a91"], ["expires_at", "2015-08-22 11:53:38.825267"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 11:55:31', '2015-08-08 11:55:31', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 11:55:31', '2015-08-08 11:55:31', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:55:31', '2015-08-08 11:55:31', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:55:31', '2015-08-08 11:55:31', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob1', '2015-08-08 11:55:31', '2015-08-08 11:55:31', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob2', '2015-08-08 11:55:31', '2015-08-08 11:55:31', 298486374)[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "NOT BOB"], ["updated_at", "2015-08-08 11:55:31.972601"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:55:31.988998') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 11:55:31.999694"], ["updated_at", "2015-08-08 11:55:31.999694"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 13ms (Views: 0.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.1ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.2ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:55:32.022718') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 5ms (ActiveRecord: 0.5ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:55:32.043272') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.2ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "da9082fd9cb8fc26295f4650b5ae8f52"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 11:55:32.049843"], ["updated_at", "2015-08-08 11:55:32.049843"], ["token", "da9082fd9cb8fc26295f4650b5ae8f52"], ["expires_at", "2015-08-22 11:55:32.050724"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.2ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "7b1b2dfbfe2c0fdc63a1bccfd3198b28"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 11:55:32.054431"], ["updated_at", "2015-08-08 11:55:32.054431"], ["token", "7b1b2dfbfe2c0fdc63a1bccfd3198b28"], ["expires_at", "2015-08-22 11:55:32.055843"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------
SessionsControllerTest: test_should_update/create_token_if_user_presents
------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"strinaag@string.test", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "strinaag@string.test"]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 11:55:51', '2015-08-08 11:55:51', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 11:55:51', '2015-08-08 11:55:51', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:55:51', '2015-08-08 11:55:51', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:55:51', '2015-08-08 11:55:51', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob1', '2015-08-08 11:55:51', '2015-08-08 11:55:51', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob2', '2015-08-08 11:55:51', '2015-08-08 11:55:51', 298486374)[0m
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "7175d122134fb00c905a44c4fbb3b3d6"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 11:55:51.667011"], ["updated_at", "2015-08-08 11:55:51.667011"], ["token", "7175d122134fb00c905a44c4fbb3b3d6"], ["expires_at", "2015-08-22 11:55:51.676379"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "f04e3b9ca463e1e046dbac400d4fbee2"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 11:55:51.680474"], ["updated_at", "2015-08-08 11:55:51.680474"], ["token", "f04e3b9ca463e1e046dbac400d4fbee2"], ["expires_at", "2015-08-22 11:55:51.681442"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.3ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:55:51.723129') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 5ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:55:51.740588') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:55:51.750233') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 11:55:51.751583"], ["updated_at", "2015-08-08 11:55:51.751583"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["name", "NOT BOB"], ["updated_at", "2015-08-08 11:55:51.802803"], ["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
SessionsControllerTest: test_should_update/create_token_if_user_presents
------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"strinaag@string.test", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "strinaag@string.test"]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."user_id" = ? LIMIT 1[0m  [["user_id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "b963fbd4f8324a4369f2bd28f7ba1bd9"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "token", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["token", "b963fbd4f8324a4369f2bd28f7ba1bd9"], ["expires_at", "2015-08-22 11:55:51.841601"], ["created_at", "2015-08-08 11:55:51.841496"], ["updated_at", "2015-08-08 11:55:51.841496"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 17ms (Views: 0.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 11:56:09', '2015-08-08 11:56:09', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 11:56:09', '2015-08-08 11:56:09', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:56:09', '2015-08-08 11:56:09', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:56:09', '2015-08-08 11:56:09', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob1', '2015-08-08 11:56:09', '2015-08-08 11:56:09', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob2', '2015-08-08 11:56:09', '2015-08-08 11:56:09', 298486374)[0m
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
SessionsControllerTest: test_should_update/create_token_if_user_presents
------------------------------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"strinaag@string.test", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "strinaag@string.test"]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."user_id" = ? LIMIT 1  [["user_id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "4884d7326180c644d97226d36bb7f23d"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "token", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["token", "4884d7326180c644d97226d36bb7f23d"], ["expires_at", "2015-08-22 11:56:10.000812"], ["created_at", "2015-08-08 11:56:10.000625"], ["updated_at", "2015-08-08 11:56:10.000625"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 23ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["email", "test@test.test"], ["name", "BOB"], ["created_at", "2015-08-08 11:56:10.010100"], ["updated_at", "2015-08-08 11:56:10.010100"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "NOT BOB"], ["updated_at", "2015-08-08 11:56:10.020666"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "9022990d76d80aaf2d60a9cf20dc34d4"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 11:56:10.034850"], ["updated_at", "2015-08-08 11:56:10.034850"], ["token", "9022990d76d80aaf2d60a9cf20dc34d4"], ["expires_at", "2015-08-22 11:56:10.035842"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "a3c80315a0dcee5f7bb559b307428f4e"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 11:56:10.038620"], ["updated_at", "2015-08-08 11:56:10.038620"], ["token", "a3c80315a0dcee5f7bb559b307428f4e"], ["expires_at", "2015-08-22 11:56:10.040294"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.2ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:56:10.066447') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:56:10.092912') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 11:56:10.094245"], ["updated_at", "2015-08-08 11:56:10.094245"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:56:10.101093') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 11:56:14', '2015-08-08 11:56:14', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 11:56:14', '2015-08-08 11:56:14', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:56:14', '2015-08-08 11:56:14', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:56:14', '2015-08-08 11:56:14', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob1', '2015-08-08 11:56:14', '2015-08-08 11:56:14', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob2', '2015-08-08 11:56:14', '2015-08-08 11:56:14', 298486374)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
SessionsControllerTest: test_should_update/create_token_if_user_presents
------------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"strinaag@string.test", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "strinaag@string.test"]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."user_id" = ? LIMIT 1  [["user_id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "a031385e82e264904602c27191abe39f"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "token", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["token", "a031385e82e264904602c27191abe39f"], ["expires_at", "2015-08-22 11:56:14.552063"], ["created_at", "2015-08-08 11:56:14.551875"], ["updated_at", "2015-08-08 11:56:14.551875"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 24ms (Views: 0.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "7b30132f56ac498cc9f69f7e7e919b43"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 11:56:14.559079"], ["updated_at", "2015-08-08 11:56:14.559079"], ["token", "7b30132f56ac498cc9f69f7e7e919b43"], ["expires_at", "2015-08-22 11:56:14.559846"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "6962678c4d6a3a7b47d848840e64a4ba"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 11:56:14.562159"], ["updated_at", "2015-08-08 11:56:14.562159"], ["token", "6962678c4d6a3a7b47d848840e64a4ba"], ["expires_at", "2015-08-22 11:56:14.562941"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["email", "test@test.test"], ["name", "BOB"], ["created_at", "2015-08-08 11:56:14.574387"], ["updated_at", "2015-08-08 11:56:14.574387"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "NOT BOB"], ["updated_at", "2015-08-08 11:56:14.580840"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:56:14.600538') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 6ms (ActiveRecord: 0.8ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:56:14.618034') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 11:56:14.619404"], ["updated_at", "2015-08-08 11:56:14.619404"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:56:14.628339') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 11:57:31', '2015-08-08 11:57:31', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 11:57:31', '2015-08-08 11:57:31', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:57:31', '2015-08-08 11:57:31', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 11:57:31', '2015-08-08 11:57:31', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob1', '2015-08-08 11:57:31', '2015-08-08 11:57:31', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob2', '2015-08-08 11:57:31', '2015-08-08 11:57:31', 298486374)[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["email", "test@test.test"], ["name", "BOB"], ["created_at", "2015-08-08 11:57:31.902706"], ["updated_at", "2015-08-08 11:57:31.902706"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 1.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "NOT BOB"], ["updated_at", "2015-08-08 11:57:31.917089"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------
SessionsControllerTest: test_should_update/create_token_if_user_presents
------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"strinaag@string.test", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "strinaag@string.test"]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."user_id" = ? LIMIT 1[0m  [["user_id", 980190962]]
  [1m[35mApiKey Exists (0.2ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "a537ac126b12dd3ede40bdbbcde23ed1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "token", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["token", "a537ac126b12dd3ede40bdbbcde23ed1"], ["expires_at", "2015-08-22 11:57:31.947460"], ["created_at", "2015-08-08 11:57:31.947336"], ["updated_at", "2015-08-08 11:57:31.947336"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 24ms (Views: 0.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:57:31.970692') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:57:31.979755') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 11:57:31.995454') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 11:57:31.996540"], ["updated_at", "2015-08-08 11:57:31.996540"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "db77a759568e9afba0007c065cbaadc0"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 11:57:32.007055"], ["updated_at", "2015-08-08 11:57:32.007055"], ["token", "db77a759568e9afba0007c065cbaadc0"], ["expires_at", "2015-08-22 11:57:32.008156"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "987ed8da72c4ec8674f816fb92ff2044"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 11:57:32.010954"], ["updated_at", "2015-08-08 11:57:32.010954"], ["token", "987ed8da72c4ec8674f816fb92ff2044"], ["expires_at", "2015-08-22 11:57:32.011665"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 12:07:47', '2015-08-08 12:07:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 12:07:47', '2015-08-08 12:07:47', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:07:47', '2015-08-08 12:07:47', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:07:47', '2015-08-08 12:07:47', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob1', '2015-08-08 12:07:47', '2015-08-08 12:07:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob2', '2015-08-08 12:07:47', '2015-08-08 12:07:47', 298486374)[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:07:47.538019') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 12:07:47.553322"], ["updated_at", "2015-08-08 12:07:47.553322"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 18ms (Views: 1.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:07:47.560786') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 8ms (Views: 7.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:07:47.578018') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "6eb5a0e07420442974232aabdee8f3a4"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 12:07:47.593443"], ["updated_at", "2015-08-08 12:07:47.593443"], ["token", "6eb5a0e07420442974232aabdee8f3a4"], ["expires_at", "2015-08-22 12:07:47.594266"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "a1a429878c7311d5ce8a60d8a78eb6ad"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 12:07:47.597222"], ["updated_at", "2015-08-08 12:07:47.597222"], ["token", "a1a429878c7311d5ce8a60d8a78eb6ad"], ["expires_at", "2015-08-22 12:07:47.597963"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
SessionsControllerTest: test_should_update/create_token_if_user_presents
------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"strinaag@string.test", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "strinaag@string.test"]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."user_id" = ? LIMIT 1  [["user_id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "c24481aad23e64abc43888572e7d3785"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "token", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["token", "c24481aad23e64abc43888572e7d3785"], ["expires_at", "2015-08-22 12:07:47.653331"], ["created_at", "2015-08-08 12:07:47.653192"], ["updated_at", "2015-08-08 12:07:47.653192"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 12:08:17', '2015-08-08 12:08:17', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 12:08:17', '2015-08-08 12:08:17', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:08:17', '2015-08-08 12:08:17', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:08:17', '2015-08-08 12:08:17', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob1', '2015-08-08 12:08:17', '2015-08-08 12:08:17', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob2', '2015-08-08 12:08:17', '2015-08-08 12:08:17', 298486374)[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "66da051610a4bd9ed6464c03ec46c1e8"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 12:08:17.172897"], ["updated_at", "2015-08-08 12:08:17.172897"], ["token", "66da051610a4bd9ed6464c03ec46c1e8"], ["expires_at", "2015-08-22 12:08:17.187668"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "8dfe69e7723e713a0dd2d150cd30c022"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 12:08:17.190471"], ["updated_at", "2015-08-08 12:08:17.190471"], ["token", "8dfe69e7723e713a0dd2d150cd30c022"], ["expires_at", "2015-08-22 12:08:17.191293"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
SessionsControllerTest: test_should_update/create_token_if_user_presents
------------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"strinaag@string.test", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "strinaag@string.test"]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."user_id" = ? LIMIT 1  [["user_id", 980190962]]
  [1m[36mApiKey Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "7cdce8672f31b711aad6aee6f346ccd4"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "token", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["token", "7cdce8672f31b711aad6aee6f346ccd4"], ["expires_at", "2015-08-22 12:08:17.296140"], ["created_at", "2015-08-08 12:08:17.295970"], ["updated_at", "2015-08-08 12:08:17.295970"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:08:17.313053') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 5.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.4ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:08:17.349277') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:08:17.356275') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 12:08:17.357568"], ["updated_at", "2015-08-08 12:08:17.357568"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 12:10:02', '2015-08-08 12:10:02', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 12:10:02', '2015-08-08 12:10:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:10:02', '2015-08-08 12:10:02', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:10:02', '2015-08-08 12:10:02', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob1', '2015-08-08 12:10:02', '2015-08-08 12:10:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob2', '2015-08-08 12:10:02', '2015-08-08 12:10:02', 298486374)[0m
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
SessionsControllerTest: test_should_update/create_token_if_user_presents
------------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"strinaag@string.test", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "strinaag@string.test"]]
  [1m[35mApiKey Load (0.3ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."user_id" = ? LIMIT 1  [["user_id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "a68d54891bf81f5a90a46bc0a7605341"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "token", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["token", "a68d54891bf81f5a90a46bc0a7605341"], ["expires_at", "2015-08-22 12:10:02.722779"], ["created_at", "2015-08-08 12:10:02.722629"], ["updated_at", "2015-08-08 12:10:02.722629"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 27ms (Views: 0.1ms | ActiveRecord: 0.9ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:10:02.763704') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 12:10:02.765384"], ["updated_at", "2015-08-08 12:10:02.765384"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:10:02.773170') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:10:02.779227') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "c35fad98114038dbb97821fabe215d97"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 12:10:02.782837"], ["updated_at", "2015-08-08 12:10:02.782837"], ["token", "c35fad98114038dbb97821fabe215d97"], ["expires_at", "2015-08-22 12:10:02.783469"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.3ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "4a7f95a1cd02dd611e35432f1354eb40"]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 12:10:02.786162"], ["updated_at", "2015-08-08 12:10:02.786162"], ["token", "4a7f95a1cd02dd611e35432f1354eb40"], ["expires_at", "2015-08-22 12:10:02.788196"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 12:32:36', '2015-08-08 12:32:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 12:32:36', '2015-08-08 12:32:36', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:32:36', '2015-08-08 12:32:36', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:32:36', '2015-08-08 12:32:36', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob1', '2015-08-08 12:32:36', '2015-08-08 12:32:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob2', '2015-08-08 12:32:36', '2015-08-08 12:32:36', 298486374)[0m
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "c098fc0be6cb0c322aeca14c3a100b4d"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 12:32:36.534421"], ["updated_at", "2015-08-08 12:32:36.534421"], ["token", "c098fc0be6cb0c322aeca14c3a100b4d"], ["expires_at", "2015-08-22 12:32:36.551182"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "66ee24e1183f75a92004162f4b4ea809"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 12:32:36.554057"], ["updated_at", "2015-08-08 12:32:36.554057"], ["token", "66ee24e1183f75a92004162f4b4ea809"], ["expires_at", "2015-08-22 12:32:36.554821"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
SessionsControllerTest: test_should_update/create_token_if_user_presents
------------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"strinaag@string.test", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "strinaag@string.test"]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."user_id" = ? LIMIT 1  [["user_id", 980190962]]
  [1m[36mApiKey Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "001e7a74ae426e6cb89477deb6f1af10"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "token", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["token", "001e7a74ae426e6cb89477deb6f1af10"], ["expires_at", "2015-08-22 12:32:36.611563"], ["created_at", "2015-08-08 12:32:36.611407"], ["updated_at", "2015-08-08 12:32:36.611407"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 15ms (Views: 0.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:32:36.626991') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:32:36.645511') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 12:32:36.646557"], ["updated_at", "2015-08-08 12:32:36.646557"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:32:36.655458') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 12:49:05', '2015-08-08 12:49:05', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 12:49:05', '2015-08-08 12:49:05', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:49:05', '2015-08-08 12:49:05', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:49:05', '2015-08-08 12:49:05', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob1', '2015-08-08 12:49:05', '2015-08-08 12:49:05', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob2', '2015-08-08 12:49:05', '2015-08-08 12:49:05', 298486374)[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
SessionsControllerTest: test_should_update/create_token_if_user_presents
------------------------------------------------------------------------
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"strinaag@string.test", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "strinaag@string.test"]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."user_id" = ? LIMIT 1  [["user_id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "c907ca0dd67fce4252f78481c7727ebc"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "token", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["token", "c907ca0dd67fce4252f78481c7727ebc"], ["expires_at", "2015-08-22 12:49:05.499663"], ["created_at", "2015-08-08 12:49:05.499408"], ["updated_at", "2015-08-08 12:49:05.499408"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 30ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:49:05.539298') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.1ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 10ms (Views: 9.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:49:05.564497') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:49:05.583776') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 12:49:05.584876"], ["updated_at", "2015-08-08 12:49:05.584876"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "4db2a0fb6e0f1cb2220a30a738615f74"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 12:49:05.593114"], ["updated_at", "2015-08-08 12:49:05.593114"], ["token", "4db2a0fb6e0f1cb2220a30a738615f74"], ["expires_at", "2015-08-22 12:49:05.593844"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "f89b221d9071d2e97f45cc2454530201"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 12:49:05.596441"], ["updated_at", "2015-08-08 12:49:05.596441"], ["token", "f89b221d9071d2e97f45cc2454530201"], ["expires_at", "2015-08-22 12:49:05.597335"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 12:49:43', '2015-08-08 12:49:43', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 12:49:43', '2015-08-08 12:49:43', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:49:43', '2015-08-08 12:49:43', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:49:43', '2015-08-08 12:49:43', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob1', '2015-08-08 12:49:43', '2015-08-08 12:49:43', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob2', '2015-08-08 12:49:43', '2015-08-08 12:49:43', 298486374)[0m
  [1m[35m (5.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
SessionsControllerTest: test_should_update/create_token_if_user_presents
------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"strinaag@string.test", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "strinaag@string.test"]]
  [1m[35mApiKey Load (0.2ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."user_id" = ? LIMIT 1  [["user_id", 980190962]]
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "9875f8f682170df54b4acbf4c1eeb52d"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "token", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["token", "9875f8f682170df54b4acbf4c1eeb52d"], ["expires_at", "2015-08-22 12:49:43.935208"], ["created_at", "2015-08-08 12:49:43.934977"], ["updated_at", "2015-08-08 12:49:43.934977"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 0.9ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 3.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:49:43.955974') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:49:43.965884') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:49:43.977821') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 12:49:43.979641"], ["updated_at", "2015-08-08 12:49:43.979641"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 5ms (Views: 1.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.1ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "faea57bd57e655503f17fdb2a24f0c9d"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 12:49:44.000514"], ["updated_at", "2015-08-08 12:49:44.000514"], ["token", "faea57bd57e655503f17fdb2a24f0c9d"], ["expires_at", "2015-08-22 12:49:44.001276"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "698288065fe96c819ee15df3ce06e13f"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 12:49:44.003544"], ["updated_at", "2015-08-08 12:49:44.003544"], ["token", "698288065fe96c819ee15df3ce06e13f"], ["expires_at", "2015-08-22 12:49:44.004269"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 12:50:37', '2015-08-08 12:50:37', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 12:50:37', '2015-08-08 12:50:37', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:50:37', '2015-08-08 12:50:37', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:50:37', '2015-08-08 12:50:37', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob1', '2015-08-08 12:50:37', '2015-08-08 12:50:37', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob2', '2015-08-08 12:50:37', '2015-08-08 12:50:37', 298486374)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "a2744c7cbb9fb8f29cdb1546b4678117"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 12:50:37.318133"], ["updated_at", "2015-08-08 12:50:37.318133"], ["token", "a2744c7cbb9fb8f29cdb1546b4678117"], ["expires_at", "2015-08-22 12:50:37.328569"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "6fe72b20f48996ff2baf58503582ed70"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 12:50:37.331549"], ["updated_at", "2015-08-08 12:50:37.331549"], ["token", "6fe72b20f48996ff2baf58503582ed70"], ["expires_at", "2015-08-22 12:50:37.332326"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.4ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:50:37.370177') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 12:50:37.371584"], ["updated_at", "2015-08-08 12:50:37.371584"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 4ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 4.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.2ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:50:37.394312') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:50:37.406959') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
SessionsControllerTest: test_should_update/create_token_if_user_presents
------------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"strinaag@string.test", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "strinaag@string.test"]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."user_id" = ? LIMIT 1  [["user_id", 980190962]]
  [1m[36mApiKey Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "5011710695ff28543e561544618d7c63"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "token", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["token", "5011710695ff28543e561544618d7c63"], ["expires_at", "2015-08-22 12:50:37.442384"], ["created_at", "2015-08-08 12:50:37.442276"], ["updated_at", "2015-08-08 12:50:37.442276"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 12:51:16', '2015-08-08 12:51:16', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 12:51:16', '2015-08-08 12:51:16', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:51:16', '2015-08-08 12:51:16', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:51:16', '2015-08-08 12:51:16', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob1', '2015-08-08 12:51:16', '2015-08-08 12:51:16', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob2', '2015-08-08 12:51:16', '2015-08-08 12:51:16', 298486374)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:51:16.232622') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 12:51:16.248226"], ["updated_at", "2015-08-08 12:51:16.248226"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 18ms (Views: 1.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:51:16.263568') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:51:16.276184') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "fa7d2a57261254c8e934adf10fb3ee42"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 12:51:16.282258"], ["updated_at", "2015-08-08 12:51:16.282258"], ["token", "fa7d2a57261254c8e934adf10fb3ee42"], ["expires_at", "2015-08-22 12:51:16.283169"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "d2f398c49e8e97bca28e6a0ad4124598"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 12:51:16.285859"], ["updated_at", "2015-08-08 12:51:16.285859"], ["token", "d2f398c49e8e97bca28e6a0ad4124598"], ["expires_at", "2015-08-22 12:51:16.286856"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB", "password"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("crypted_password", "salt", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["crypted_password", "a8e3e9b9c77a9f3d3db8a16887d71a7403d9077e54b5936f54bccc4976a4098f"], ["salt", "52579f5dd420f7ab7590d737a27881b48f7853f8444dd3f5a5af9825b0ce7fc3"], ["name", "BOB"], ["email", "test@test.test"], ["created_at", "2015-08-08 12:51:16.306216"], ["updated_at", "2015-08-08 12:51:16.306216"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 12ms (Views: 1.1ms | ActiveRecord: 1.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "salt" = ?, "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["salt", "a87c41197386c5264889cd0e5d3a9a3ea3d8b85227a7891756fa222600c5f3a0"], ["name", "NOT BOB"], ["updated_at", "2015-08-08 12:51:16.325797"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
SessionsControllerTest: test_should_update/create_token_if_user_presents
------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"strinaag@string.test", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "strinaag@string.test"]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."user_id" = ? LIMIT 1[0m  [["user_id", 980190962]]
  [1m[35mApiKey Exists (0.0ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "5bf3699551a43c839961754fda45f847"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "token", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["token", "5bf3699551a43c839961754fda45f847"], ["expires_at", "2015-08-22 12:51:16.348363"], ["created_at", "2015-08-08 12:51:16.348241"], ["updated_at", "2015-08-08 12:51:16.348241"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 12:52:59', '2015-08-08 12:52:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 12:52:59', '2015-08-08 12:52:59', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:52:59', '2015-08-08 12:52:59', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:52:59', '2015-08-08 12:52:59', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob1', '2015-08-08 12:52:59', '2015-08-08 12:52:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob2', '2015-08-08 12:52:59', '2015-08-08 12:52:59', 298486374)[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
SessionsControllerTest: test_should_update/create_token_if_user_presents
------------------------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"strinaag@string.test", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "strinaag@string.test"]]
  [1m[35mApiKey Load (0.2ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."user_id" = ? LIMIT 1  [["user_id", 980190962]]
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "d2d519c3dc5073d013a6b062cc3190c1"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "token", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["token", "d2d519c3dc5073d013a6b062cc3190c1"], ["expires_at", "2015-08-22 12:52:59.392803"], ["created_at", "2015-08-08 12:52:59.392607"], ["updated_at", "2015-08-08 12:52:59.392607"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 0.9ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:52:59.417908') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 12:52:59.419061"], ["updated_at", "2015-08-08 12:52:59.419061"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 3ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:52:59.425053') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:52:59.438692') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "da7c1c6bf702772c6f90ca51a9c9fee7"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 12:52:59.444562"], ["updated_at", "2015-08-08 12:52:59.444562"], ["token", "da7c1c6bf702772c6f90ca51a9c9fee7"], ["expires_at", "2015-08-22 12:52:59.445414"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "e4f8e75ea06ec671de084368d1dd6e4b"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 12:52:59.448645"], ["updated_at", "2015-08-08 12:52:59.448645"], ["token", "e4f8e75ea06ec671de084368d1dd6e4b"], ["expires_at", "2015-08-22 12:52:59.449386"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB", "password"=>"[FILTERED]"}}
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:52:59.456173') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("crypted_password", "salt", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["crypted_password", "a8e3e9b9c77a9f3d3db8a16887d71a7403d9077e54b5936f54bccc4976a4098f"], ["salt", "52579f5dd420f7ab7590d737a27881b48f7853f8444dd3f5a5af9825b0ce7fc3"], ["name", "BOB"], ["email", "test@test.test"], ["created_at", "2015-08-08 12:52:59.458869"], ["updated_at", "2015-08-08 12:52:59.458869"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:52:59.464980') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:52:59.470211') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.5ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:52:59.475667') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:52:59.480898') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "salt" = ?, "name" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["salt", "a87c41197386c5264889cd0e5d3a9a3ea3d8b85227a7891756fa222600c5f3a0"], ["name", "NOT BOB"], ["updated_at", "2015-08-08 12:52:59.482527"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 12:54:16', '2015-08-08 12:54:16', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 12:54:16', '2015-08-08 12:54:16', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:54:16', '2015-08-08 12:54:16', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:54:16', '2015-08-08 12:54:16', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob1', '2015-08-08 12:54:16', '2015-08-08 12:54:16', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob2', '2015-08-08 12:54:16', '2015-08-08 12:54:16', 298486374)[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:54:16.208659') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "salt" = ?, "name" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["salt", "a87c41197386c5264889cd0e5d3a9a3ea3d8b85227a7891756fa222600c5f3a0"], ["name", "NOT BOB"], ["updated_at", "2015-08-08 12:54:16.222872"], ["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 20ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:54:16.229803') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersControllerTest: test_requests_authorization
------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:54:16.244108') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB", "password"=>"[FILTERED]"}}
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:54:16.248662') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("crypted_password", "salt", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["crypted_password", "a8e3e9b9c77a9f3d3db8a16887d71a7403d9077e54b5936f54bccc4976a4098f"], ["salt", "52579f5dd420f7ab7590d737a27881b48f7853f8444dd3f5a5af9825b0ce7fc3"], ["name", "BOB"], ["email", "test@test.test"], ["created_at", "2015-08-08 12:54:16.249973"], ["updated_at", "2015-08-08 12:54:16.249973"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:54:16.256426') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "b4b63430ec73982e24fd77e5107299a5"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 12:54:16.259965"], ["updated_at", "2015-08-08 12:54:16.259965"], ["token", "b4b63430ec73982e24fd77e5107299a5"], ["expires_at", "2015-08-22 12:54:16.260731"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "ad8afdedfd5921bdf2094c817cd4b6ed"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["created_at", "2015-08-08 12:54:16.263704"], ["updated_at", "2015-08-08 12:54:16.263704"], ["token", "ad8afdedfd5921bdf2094c817cd4b6ed"], ["expires_at", "2015-08-22 12:54:16.264515"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:54:16.277407') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 12:54:16.278609"], ["updated_at", "2015-08-08 12:54:16.278609"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:54:16.291764') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:54:16.300449') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
SessionsControllerTest: test_should_update/create_token_if_user_presents
------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"strinaag@string.test", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "strinaag@string.test"]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."user_id" = ? LIMIT 1[0m  [["user_id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "5fe0db49b1f4615c56440f6851161972"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "token", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["token", "5fe0db49b1f4615c56440f6851161972"], ["expires_at", "2015-08-22 12:54:16.330411"], ["created_at", "2015-08-08 12:54:16.330260"], ["updated_at", "2015-08-08 12:54:16.330260"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "api_keys"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'alsdkalksdjl1kj2391023la', '2015-08-08 12:54:43', '2015-08-08 12:54:43', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "api_keys" ("user_id", "expires_at", "token", "created_at", "updated_at", "id") VALUES (1, '2020-08-08 11:51:18.000000', 'ghjkhbakuygudfqywe8r1yg2ehw', '2015-08-08 12:54:43', '2015-08-08 12:54:43', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "posts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:54:43', '2015-08-08 12:54:43', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "posts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, '2015-08-08 12:54:43', '2015-08-08 12:54:43', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('strinaag@string.test', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob1', '2015-08-08 12:54:43', '2015-08-08 12:54:43', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("email", "crypted_password", "salt", "name", "created_at", "updated_at", "id") VALUES ('string@string.test§', 'e8ff342f24695e7815be89a7c513dd1f1da3192ca131ad80d09a51bae1703ebc', '81b637d8fcd2c6da6359e6963113a1170de795e4b725b84d1e0b4cfd9ec58ce9', 'bob2', '2015-08-08 12:54:43', '2015-08-08 12:54:43', 298486374)[0m
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersControllerTest: test_requests_authorization
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.2ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.2ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:54:44.035468') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 14ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@test.test", "name"=>"BOB", "password"=>"[FILTERED]"}}
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:54:44.052916') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("crypted_password", "salt", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["crypted_password", "a8e3e9b9c77a9f3d3db8a16887d71a7403d9077e54b5936f54bccc4976a4098f"], ["salt", "52579f5dd420f7ab7590d737a27881b48f7853f8444dd3f5a5af9825b0ce7fc3"], ["name", "BOB"], ["email", "test@test.test"], ["created_at", "2015-08-08 12:54:44.058162"], ["updated_at", "2015-08-08 12:54:44.058162"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 11ms (Views: 1.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mApiKey Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:54:44.070420') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.2ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"NOT BOB"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.2ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:54:44.080890') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "salt" = ?, "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["salt", "a87c41197386c5264889cd0e5d3a9a3ea3d8b85227a7891756fa222600c5f3a0"], ["name", "NOT BOB"], ["updated_at", "2015-08-08 12:54:44.083025"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 204 No Content in 6ms (ActiveRecord: 0.8ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.1ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:54:44.090913') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_has_many_posts
-----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_has_one_api_key
------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
PostsControllerTest: test_should_not_create_post_when_unauth
------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
PostsControllerTest: test_should_update_post_when_authenticated
---------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:54:44.107142') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#index as HTML
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts"
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
PostsControllerTest: test_should_not_update_post_when_unauth
------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mPost Load (0.0ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
PostsControllerTest: test_should_not_destroy_post_when_unauth
-------------------------------------------------------------
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Load (0.0ms)[0m  SELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered text template (0.0ms)
Filter chain halted as :restrict_access rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
PostsControllerTest: test_should_create_post_when_authenticated
---------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"content"=>"MyText", "user_id"=>"1"}}
  [1m[36mApiKey Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:54:44.129468') AND "api_keys"."token" = ? LIMIT 1[0m  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("content", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["content", "MyText"], ["user_id", 1], ["created_at", "2015-08-08 12:54:44.132690"], ["updated_at", "2015-08-08 12:54:44.132690"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 6ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
PostsControllerTest: test_should_destroy_post_when_authenticated
----------------------------------------------------------------
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mApiKey Load (0.0ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.0ms)[0m  [1mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE (expires_at > '2015-08-08 12:54:44.139331') AND "api_keys"."token" = ? LIMIT 1  [["token", "alsdkalksdjl1kj2391023la"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------
SessionsControllerTest: test_should_update/create_token_if_user_presents
------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"strinaag@string.test", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "strinaag@string.test"]]
  [1m[36mApiKey Load (0.1ms)[0m  [1mSELECT  "api_keys".* FROM "api_keys" WHERE "api_keys"."user_id" = ? LIMIT 1[0m  [["user_id", 980190962]]
  [1m[35mApiKey Exists (0.1ms)[0m  SELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1  [["token", "d8a3494a351337820cfe0672b041f9fc"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "token", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 980190962], ["token", "d8a3494a351337820cfe0672b041f9fc"], ["expires_at", "2015-08-22 12:54:44.156836"], ["created_at", "2015-08-08 12:54:44.156702"], ["updated_at", "2015-08-08 12:54:44.156702"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ApiKeyTest: test_sets_token_before_create
-----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "5f1cd315f73bec653ff55e8ef6d524cb"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 12:54:44.160353"], ["updated_at", "2015-08-08 12:54:44.160353"], ["token", "5f1cd315f73bec653ff55e8ef6d524cb"], ["expires_at", "2015-08-22 12:54:44.161145"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ApiKeyTest: test_sets_expires_at_before_create
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mApiKey Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "api_keys" WHERE "api_keys"."token" = ? LIMIT 1[0m  [["token", "13219c17cdab83817c46f6b5610ac78f"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "api_keys" ("user_id", "created_at", "updated_at", "token", "expires_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["created_at", "2015-08-08 12:54:44.164695"], ["updated_at", "2015-08-08 12:54:44.164695"], ["token", "13219c17cdab83817c46f6b5610ac78f"], ["expires_at", "2015-08-22 12:54:44.165753"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_has_a_fresh_scope
----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------
ApiKeyTest: test_belongs_to_a_user
----------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
PostTest: test_belongs_to_a_user
--------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
